<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">

    <title>在iOS 8中使用UIAlertController - CocoaChina_让移动开发更简单</title>
    <meta name="keywords" content="UIAlertController,alertViewiPhone开发,iOS开发,iPad开发,Mac开发,苹果开发中文站,iPhone开发中文站,CocoaChina首页, Mac OS开发, Cocoa介绍,移动互联网,触控科技,Cocoa,Apple,developer,iOS,iPhone,iPad,iMac,iPod Touch,iPhone5,iPhone4S,iPad3,招聘,iPhone程序员,Objective-c,iPhone应用外包,ios6,ios面试,Cocos2d-x,cocos2d,iTunes,App Store,苹果开发">
    <meta name="description" content="CocoaChina前身是全球成立最早规模最大的苹果开发中文站，现致力为所有移动开发者提供资讯服务、问答服务、代码下载、工具库及人才招聘服务">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="baidu-tc-cerfication" content="3300a939a1098c27e94457b75a0bb8c1">

    <link rel="stylesheet" href="ios_UIAlertController/global.css" media="all">
    <link rel="stylesheet" href="ios_UIAlertController/index.css" media="all">
    <link href="ios_UIAlertController/module.css" rel="stylesheet">
    <link href="ios_UIAlertController/style.css" rel="stylesheet">
    <link href="ios_UIAlertController/navheader.css" rel="stylesheet">
<link href="ios_UIAlertController/share_style1_32.css" rel="stylesheet"><style class="firebugResetStyles" type="text/css" charset="utf-8">/* See license.txt for terms of usage */
/** reset styling **/
.firebugResetStyles {
    z-index: 2147483646 !important;
    top: 0 !important;
    left: 0 !important;
    display: block !important;
    border: 0 none !important;
    margin: 0 !important;
    padding: 0 !important;
    outline: 0 !important;
    min-width: 0 !important;
    max-width: none !important;
    min-height: 0 !important;
    max-height: none !important;
    position: fixed !important;
    transform: rotate(0deg) !important;
    transform-origin: 50% 50% !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    background: transparent none !important;
    pointer-events: none !important;
    white-space: normal !important;
}
style.firebugResetStyles {
    display: none !important;
}

.firebugBlockBackgroundColor {
    background-color: transparent !important;
}

.firebugResetStyles:before, .firebugResetStyles:after {
    content: "" !important;
}
/**actual styling to be modified by firebug theme**/
.firebugCanvas {
    display: none !important;
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
.firebugLayoutBox {
    width: auto !important;
    position: static !important;
}

.firebugLayoutBoxOffset {
    opacity: 0.8 !important;
    position: fixed !important;
}

.firebugLayoutLine {
    opacity: 0.4 !important;
    background-color: #000000 !important;
}

.firebugLayoutLineLeft, .firebugLayoutLineRight {
    width: 1px !important;
    height: 100% !important;
}

.firebugLayoutLineTop, .firebugLayoutLineBottom {
    width: 100% !important;
    height: 1px !important;
}

.firebugLayoutLineTop {
    margin-top: -1px !important;
    border-top: 1px solid #999999 !important;
}

.firebugLayoutLineRight {
    border-right: 1px solid #999999 !important;
}

.firebugLayoutLineBottom {
    border-bottom: 1px solid #999999 !important;
}

.firebugLayoutLineLeft {
    margin-left: -1px !important;
    border-left: 1px solid #999999 !important;
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
.firebugLayoutBoxParent {
    border-top: 0 none !important;
    border-right: 1px dashed #E00 !important;
    border-bottom: 1px dashed #E00 !important;
    border-left: 0 none !important;
    position: fixed !important;
    width: auto !important;
}

.firebugRuler{
    position: absolute !important;
}

.firebugRulerH {
    top: -15px !important;
    left: 0 !important;
    width: 100% !important;
    height: 14px !important;
    background: url("data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%13%88%00%00%00%0E%08%02%00%00%00L%25a%0A%00%00%00%04gAMA%00%00%D6%D8%D4OX2%00%00%00%19tEXtSoftware%00Adobe%20ImageReadyq%C9e%3C%00%00%04%F8IDATx%DA%EC%DD%D1n%E2%3A%00E%D1%80%F8%FF%EF%E2%AF2%95%D0D4%0E%C1%14%B0%8Fa-%E9%3E%CC%9C%87n%B9%81%A6W0%1C%A6i%9A%E7y%0As8%1CT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AATE9%FE%FCw%3E%9F%AF%2B%2F%BA%97%FDT%1D~K(%5C%9D%D5%EA%1B%5C%86%B5%A9%BDU%B5y%80%ED%AB*%03%FAV9%AB%E1%CEj%E7%82%EF%FB%18%BC%AEJ8%AB%FA'%D2%BEU9%D7U%ECc0%E1%A2r%5DynwVi%CFW%7F%BB%17%7Dy%EACU%CD%0E%F0%FA%3BX%FEbV%FEM%9B%2B%AD%BE%AA%E5%95v%AB%AA%E3E5%DCu%15rV9%07%B5%7F%B5w%FCm%BA%BE%AA%FBY%3D%14%F0%EE%C7%60%0EU%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5JU%88%D3%F5%1F%AE%DF%3B%1B%F2%3E%DAUCNa%F92%D02%AC%7Dm%F9%3A%D4%F2%8B6%AE*%BF%5C%C2Ym~9g5%D0Y%95%17%7C%C8c%B0%7C%18%26%9CU%CD%13i%F7%AA%90%B3Z%7D%95%B4%C7%60%E6E%B5%BC%05%B4%FBY%95U%9E%DB%FD%1C%FC%E0%9F%83%7F%BE%17%7DkjMU%E3%03%AC%7CWj%DF%83%9An%BCG%AE%F1%95%96yQ%0Dq%5Dy%00%3Et%B5'%FC6%5DS%95pV%95%01%81%FF'%07%00%00%00%00%00%00%00%00%00%F8x%C7%F0%BE%9COp%5D%C9%7C%AD%E7%E6%EBV%FB%1E%E0(%07%E5%AC%C6%3A%ABi%9C%8F%C6%0E9%AB%C0'%D2%8E%9F%F99%D0E%B5%99%14%F5%0D%CD%7F%24%C6%DEH%B8%E9rV%DFs%DB%D0%F7%00k%FE%1D%84%84%83J%B8%E3%BA%FB%EF%20%84%1C%D7%AD%B0%8E%D7U%C8Y%05%1E%D4t%EF%AD%95Q%BF8w%BF%E9%0A%BF%EB%03%00%00%00%00%00%00%00%00%00%B8vJ%8E%BB%F5%B1u%8Cx%80%E1o%5E%CA9%AB%CB%CB%8E%03%DF%1D%B7T%25%9C%D5(%EFJM8%AB%CC'%D2%B2*%A4s%E7c6%FB%3E%FA%A2%1E%80~%0E%3E%DA%10x%5D%95Uig%15u%15%ED%7C%14%B6%87%A1%3B%FCo8%A8%D8o%D3%ADO%01%EDx%83%1A~%1B%9FpP%A3%DC%C6'%9C%95gK%00%00%00%00%00%00%00%00%00%20%D9%C9%11%D0%C0%40%AF%3F%EE%EE%92%94%D6%16X%B5%BCMH%15%2F%BF%D4%A7%C87%F1%8E%F2%81%AE%AAvzr%DA2%ABV%17%7C%E63%83%E7I%DC%C6%0Bs%1B%EF6%1E%00%00%00%00%00%00%00%00%00%80cr%9CW%FF%7F%C6%01%0E%F1%CE%A5%84%B3%CA%BC%E0%CB%AA%84%CE%F9%BF)%EC%13%08WU%AE%AB%B1%AE%2BO%EC%8E%CBYe%FE%8CN%ABr%5Dy%60~%CFA%0D%F4%AE%D4%BE%C75%CA%EDVB%EA(%B7%F1%09g%E5%D9%12%00%00%00%00%00%00%00%00%00H%F6%EB%13S%E7y%5E%5E%FB%98%F0%22%D1%B2'%A7%F0%92%B1%BC%24z3%AC%7Dm%60%D5%92%B4%7CEUO%5E%F0%AA*%3BU%B9%AE%3E%A0j%94%07%A0%C7%A0%AB%FD%B5%3F%A0%F7%03T%3Dy%D7%F7%D6%D4%C0%AAU%D2%E6%DFt%3F%A8%CC%AA%F2%86%B9%D7%F5%1F%18%E6%01%F8%CC%D5%9E%F0%F3z%88%AA%90%EF%20%00%00%00%00%00%00%00%00%00%C0%A6%D3%EA%CFi%AFb%2C%7BB%0A%2B%C3%1A%D7%06V%D5%07%A8r%5D%3D%D9%A6%CAu%F5%25%CF%A2%99%97zNX%60%95%AB%5DUZ%D5%FBR%03%AB%1C%D4k%9F%3F%BB%5C%FF%81a%AE%AB'%7F%F3%EA%FE%F3z%94%AA%D8%DF%5B%01%00%00%00%00%00%00%00%00%00%8E%FB%F3%F2%B1%1B%8DWU%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*UiU%C7%BBe%E7%F3%B9%CB%AAJ%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5*%AAj%FD%C6%D4%5Eo%90%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5%86%AF%1B%9F%98%DA%EBm%BBV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%AD%D6%E4%F58%01%00%00%00%00%00%00%00%00%00%00%00%00%00%40%85%7F%02%0C%008%C2%D0H%16j%8FX%00%00%00%00IEND%AEB%60%82") repeat-x !important;
    border-top: 1px solid #BBBBBB !important;
    border-right: 1px dashed #BBBBBB !important;
    border-bottom: 1px solid #000000 !important;
}

.firebugRulerV {
    top: 0 !important;
    left: -15px !important;
    width: 14px !important;
    height: 100% !important;
    background: url("data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%0E%00%00%13%88%08%02%00%00%00%0E%F5%CB%10%00%00%00%04gAMA%00%00%D6%D8%D4OX2%00%00%00%19tEXtSoftware%00Adobe%20ImageReadyq%C9e%3C%00%00%06~IDATx%DA%EC%DD%D1v%A20%14%40Qt%F1%FF%FF%E4%97%D9%07%3BT%19%92%DC%40(%90%EEy%9A5%CB%B6%E8%F6%9Ac%A4%CC0%84%FF%DC%9E%CF%E7%E3%F1%88%DE4%F8%5D%C7%9F%2F%BA%DD%5E%7FI%7D%F18%DDn%BA%C5%FB%DF%97%BFk%F2%10%FF%FD%B4%F2M%A7%FB%FD%FD%B3%22%07p%8F%3F%AE%E3%F4S%8A%8F%40%EEq%9D%BE8D%F0%0EY%A1Uq%B7%EA%1F%81%88V%E8X%3F%B4%CEy%B7h%D1%A2E%EBohU%FC%D9%AF2fO%8BBeD%BE%F7X%0C%97%A4%D6b7%2Ck%A5%12%E3%9B%60v%B7r%C7%1AI%8C%BD%2B%23r%00c0%B2v%9B%AD%CA%26%0C%1Ek%05A%FD%93%D0%2B%A1u%8B%16-%95q%5Ce%DCSO%8E%E4M%23%8B%F7%C2%FE%40%BB%BD%8C%FC%8A%B5V%EBu%40%F9%3B%A72%FA%AE%8C%D4%01%CC%B5%DA%13%9CB%AB%E2I%18%24%B0n%A9%0CZ*Ce%9C%A22%8E%D8NJ%1E%EB%FF%8F%AE%CAP%19*%C3%BAEKe%AC%D1%AAX%8C*%DEH%8F%C5W%A1e%AD%D4%B7%5C%5B%19%C5%DB%0D%EF%9F%19%1D%7B%5E%86%BD%0C%95%A12%AC%5B*%83%96%CAP%19%F62T%86%CAP%19*%83%96%CA%B8Xe%BC%FE)T%19%A1%17xg%7F%DA%CBP%19*%C3%BA%A52T%86%CAP%19%F62T%86%CA%B0n%A9%0CZ%1DV%C6%3D%F3%FCH%DE%B4%B8~%7F%5CZc%F1%D6%1F%AF%84%F9%0F6%E6%EBVt9%0E~%BEr%AF%23%B0%97%A12T%86%CAP%19%B4T%86%CA%B8Re%D8%CBP%19*%C3%BA%A52huX%19%AE%CA%E5%BC%0C%7B%19*CeX%B7h%A9%0C%95%E1%BC%0C%7B%19*CeX%B7T%06%AD%CB%5E%95%2B%BF.%8F%C5%97%D5%E4%7B%EE%82%D6%FB%CF-%9C%FD%B9%CF%3By%7B%19%F62T%86%CA%B0n%D1R%19*%A3%D3%CA%B0%97%A12T%86uKe%D0%EA%B02*%3F1%99%5DB%2B%A4%B5%F8%3A%7C%BA%2B%8Co%7D%5C%EDe%A8%0C%95a%DDR%19%B4T%C66%82fA%B2%ED%DA%9FC%FC%17GZ%06%C9%E1%B3%E5%2C%1A%9FoiB%EB%96%CA%A0%D5qe4%7B%7D%FD%85%F7%5B%ED_%E0s%07%F0k%951%ECr%0D%B5C%D7-g%D1%A8%0C%EB%96%CA%A0%A52T%C6)*%C3%5E%86%CAP%19%D6-%95A%EB*%95q%F8%BB%E3%F9%AB%F6%E21%ACZ%B7%22%B7%9B%3F%02%85%CB%A2%5B%B7%BA%5E%B7%9C%97%E1%BC%0C%EB%16-%95%A12z%AC%0C%BFc%A22T%86uKe%D0%EA%B02V%DD%AD%8A%2B%8CWhe%5E%AF%CF%F5%3B%26%CE%CBh%5C%19%CE%CB%B0%F3%A4%095%A1%CAP%19*Ce%A8%0C%3BO*Ce%A8%0C%95%A12%3A%AD%8C%0A%82%7B%F0v%1F%2FD%A9%5B%9F%EE%EA%26%AF%03%CA%DF9%7B%19*Ce%A8%0C%95%A12T%86%CA%B8Ze%D8%CBP%19*Ce%A8%0C%95%D1ae%EC%F7%89I%E1%B4%D7M%D7P%8BjU%5C%BB%3E%F2%20%D8%CBP%19*Ce%A8%0C%95%A12T%C6%D5*%C3%5E%86%CAP%19*Ce%B4O%07%7B%F0W%7Bw%1C%7C%1A%8C%B3%3B%D1%EE%AA%5C%D6-%EBV%83%80%5E%D0%CA%10%5CU%2BD%E07YU%86%CAP%19*%E3%9A%95%91%D9%A0%C8%AD%5B%EDv%9E%82%FFKOee%E4%8FUe%A8%0C%95%A12T%C6%1F%A9%8C%C8%3D%5B%A5%15%FD%14%22r%E7B%9F%17l%F8%BF%ED%EAf%2B%7F%CF%ECe%D8%CBP%19*Ce%A8%0C%95%E1%93~%7B%19%F62T%86%CAP%19*Ce%A8%0C%E7%13%DA%CBP%19*Ce%A8%0CZf%8B%16-Z%B4h%D1R%19f%8B%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1%A2%A52%CC%16-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2EKe%98-Z%B4h%D1%A2EKe%D02%5B%B4h%D1%A2EKe%D02%5B%B4h%D1%A2E%8B%96%CA0%5B%B4h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%16-%95a%B6h%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-Z*%C3l%D1%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z%B4T%86%D9%A2E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4h%A9%0C%B3E%8B%16-Z%B4h%A9%0CZf%8B%16-Z%B4h%A9%0CZf%8B%16-Z%B4h%D1R%19f%8B%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1%A2%A52%CC%16-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2EKe%98-Z%B4h%D1%A2EKe%D02%5B%B4h%D1%A2EKe%D02%5B%B4h%D1%A2E%8B%96%CA0%5B%B4h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%16-%95a%B6h%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-Z*%C3l%D1%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z%B4T%86%D9%A2E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4h%A9%0C%B3E%8B%16-Z%B4h%A9%0CZf%8B%16-Z%B4h%A9%0CZf%8B%16-Z%B4h%D1R%19f%8B%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1%A2%A52%CC%16-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2EKe%98-Z%B4h%D1%A2EKe%D02%5B%B4h%D1%A2EKe%D02%5B%B4h%D1%A2E%8B%96%CA0%5B%B4h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%16-%95a%B6h%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-Z*%C3l%D1%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z%B4T%86%D9%A2E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4%AE%A4%F5%25%C0%00%DE%BF%5C'%0F%DA%B8q%00%00%00%00IEND%AEB%60%82") repeat-y !important;
    border-left: 1px solid #BBBBBB !important;
    border-right: 1px solid #000000 !important;
    border-bottom: 1px dashed #BBBBBB !important;
}

.overflowRulerX > .firebugRulerV {
    left: 0 !important;
}

.overflowRulerY > .firebugRulerH {
    top: 0 !important;
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
.fbProxyElement {
    position: fixed !important;
    pointer-events: auto !important;
}
</style></head>
<body>

<!--middle-->
<div class="middle clearfix">
    <div class="m-wrap"><!--left-->
<div class="detail-left float-l">

  <div class="detail-main">
    <h2>在iOS 8中使用UIAlertController</h2>
                <div class="p-ico clearfix">
                  <p class="related float-l"><a href="http://www.cocoachina.com/cms/tags.php?/alertView/" target="_blank">alertView</a><a href="http://www.cocoachina.com/cms/tags.php?/UIAlertController/" target="_blank">UIAlertController</a></p>
                    <input id="article_id" value="10320" type="hidden">
    </div>
                <div id="detailbody" class="field_body">
                  <p><strong>UIAlertController</strong></p>
                  <p>在iOS
 
8中，UIAlertController在功能上是和UIAlertView以及UIActionSheet相同
的，UIAlertController以一种模块化替换的方式来代替这两货的功能和作用。是使用对话框(alert)还是使用上拉菜单(action 
sheet)，就取决于在创建控制器时，您是如何设置首选样式的。</p><p><strong>一个简单的对话框例子</strong></p><p>您可以比较一下两种不同的创建对话框的代码，创建基础UIAlertController的代码和创建UIAlertView的代码非常相似：</p><p>Objective-C版本：</p><div><div id="highlighter_212383" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">UIAlertController&nbsp;*alertController&nbsp;=&nbsp;[UIAlertController&nbsp;alertControllerWithTitle:@</code><code class="js string">"标题"</code>&nbsp;<code class="js plain">message:@</code><code class="js string">"这个是UIAlertController的默认样式"</code>&nbsp;<code class="js plain">preferredStyle:UIAlertControllerStyleAlert];</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_326362" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js keyword">var</code>&nbsp;<code class="js plain">alertController&nbsp;=&nbsp;UIAlertController(title:&nbsp;</code><code class="js string">"标题"</code><code class="js plain">,&nbsp;message:&nbsp;</code><code class="js string">"这个是UIAlertController的默认样式"</code><code class="js plain">,&nbsp;preferredStyle:&nbsp;UIAlertControllerStyle.Alert)</code></div></div></td></tr></tbody></table></div></div><p>同创建UIAlertView相比，我们无需指定代理，也无需在初始化过程中指定按钮。不过要特别注意第三个参数，要确定您选择的是对话框样式还是上拉菜单样式。</p><p>通
过创建UIAlertAction的实例，您可以将动作按钮添加到控制器上。UIAlertAction由标题字符串、样式以及当用户选中该动作时运行的
代码块组成。通过UIAlertActionStyle，您可以选择如下三种动作样式：常规(default)、取消(cancel)以及警示
(destruective)。为了实现原来我们在创建UIAlertView时创建的按钮效果，我们只需创建这两个动作按钮并将它们添加到控制器上即
可。</p><p>Objective-C版本：</p><div><div id="highlighter_212852" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">UIAlertAction&nbsp;*cancelAction&nbsp;=&nbsp;[UIAlertAction&nbsp;actionWithTitle:@</code><code class="js string">"取消"</code>&nbsp;<code class="js plain">style:UIAlertActionStyleCancel&nbsp;handler:nil];</code></div><div class="line number2 index1 alt1"><code class="js plain">UIAlertAction&nbsp;*okAction&nbsp;=&nbsp;[UIAlertAction&nbsp;actionWithTitle:@</code><code class="js string">"好的"</code>&nbsp;<code class="js plain">style:UIAlertActionStyleDefault&nbsp;handler:nil];</code></div><div class="line number3 index2 alt2"><code class="js plain">[alertController&nbsp;addAction:cancelAction];</code></div><div class="line number4 index3 alt1"><code class="js plain">[alertController&nbsp;addAction:okAction];</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_92026" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js keyword">var</code>&nbsp;<code class="js plain">cancelAction&nbsp;=&nbsp;UIAlertAction(title:&nbsp;</code><code class="js string">"取消"</code><code class="js plain">,&nbsp;style:&nbsp;UIAlertActionStyle.Cancel,&nbsp;handler:&nbsp;nil)</code></div><div class="line number2 index1 alt1"><code class="js keyword">var</code>&nbsp;<code class="js plain">okAction&nbsp;=&nbsp;UIAlertAction(title:&nbsp;</code><code class="js string">"好的"</code><code class="js plain">,&nbsp;style:&nbsp;UIAlertActionStyle.Default,&nbsp;handler:&nbsp;nil)</code></div><div class="line number3 index2 alt2"><code class="js plain">alertController.addAction(cancelAction)</code></div><div class="line number4 index3 alt1"><code class="js plain">alertController.addAction(okAction)</code></div></div></td></tr></tbody></table></div></div><p>最后，我们只需显示这个对话框视图控制器即可：</p><p>Objective-C版本：</p><div><div id="highlighter_667516" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">[self&nbsp;presentViewController:alertController&nbsp;animated:YES&nbsp;completion:nil];</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_304346" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">self.presentViewController(alertController,&nbsp;animated:&nbsp;</code><code class="js keyword">true</code><code class="js plain">,&nbsp;completion:&nbsp;nil)</code></div></div></td></tr></tbody></table></div></div><p style="text-align: center;"><img src="ios_UIAlertController/1416967052393203.png" title="1416967052393203.png" alt="06.png"></p><p style="text-align: center;">UIAlertController默认样式</p><p>按钮显示的次序取决于它们添加到对话框控制器上的次序。一般来说，根据苹果官方制定的《iOS 用户界面指南》，在拥有两个按钮的对话框中，您应当将取消按钮放在左边。要注意，取消按钮是唯一的，如果您添加了第二个取消按钮，那么你就会得到如下的一个运行时异常：</p><p><span style="color: rgb(227, 108, 9);">*
 Terminating app due to uncaught exception 
‘NSInternalInconsistencyException’, reason: ‘UIAlertController can only 
have one action with a style of UIAlertActionStyleCancel’</span></p><p>异常信息简洁明了，我们在此就不赘述了。</p><p><strong>“警示”样式</strong></p><p>什么是“警示”样式呢？我们先不着急回答这个问题，先来看一下下面关于“警示”样式的简单示例。在这个示例中，我们将前面的示例中的“好的”按钮替换为了“重置”按钮。</p><p>Objective-C版本：</p><div><div id="highlighter_980771" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">UIAlertAction&nbsp;*resetAction&nbsp;=&nbsp;[UIAlertAction&nbsp;actionWithTitle:@</code><code class="js string">"重置"</code>&nbsp;<code class="js plain">style:UIAlertActionStyleDestructive&nbsp;handler:nil];</code></div><div class="line number2 index1 alt1"><code class="js plain">[alertController&nbsp;addAction:resetAction];</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_647381" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js keyword">var</code>&nbsp;<code class="js plain">resetAction&nbsp;=&nbsp;UIAlertAction(title:&nbsp;</code><code class="js string">"重置"</code><code class="js plain">,&nbsp;style:&nbsp;UIAlertActionStyle.Destructive,&nbsp;handler:&nbsp;nil)</code></div><div class="line number2 index1 alt1"><code class="js plain">alertController.addAction(resetAction)</code></div></div></td></tr></tbody></table></div></div><p style="text-align: center;"><img src="ios_UIAlertController/1416967112867112.png" title="1416967112867112.png" alt="07.png"></p><p style="text-align: center;">“警示”样式</p><p>可以看出，我们新增的那个“重置”按钮变成了红色。根据苹果官方的定义，“警示”样式的按钮是用在可能会改变或删除数据的操作上。因此用了红色的醒目标识来警示用户。</p><p><strong>文本对话框</strong></p><p>UIAlertController
极大的灵活性意味着您不必拘泥于内置样式。以前我们只能在默认视图、文本框视图、密码框视图、登录和密码输入框视图中选择，现在我们可以向对话框中添加任
意数目的UITextField对象，并且可以使用所有的UITextField特性。当您向对话框控制器中添加文本框时，您需要指定一个用来配置文本框
的代码块。</p><p>举个栗子吧，要重新建立原来的登录和密码样式对话框，我们可以向其中添加两个文本框，然后用合适的占位符来配置它们，最后将密码输入框设置使用安全文本输入。</p><p>Objective-C版本：</p><div><div id="highlighter_989128" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">UIAlertController&nbsp;*alertController&nbsp;=&nbsp;[UIAlertController&nbsp;alertControllerWithTitle:@</code><code class="js string">"文本对话框"</code>&nbsp;<code class="js plain">message:@</code><code class="js string">"登录和密码对话框示例"</code>&nbsp;<code class="js plain">preferredStyle:UIAlertControllerStyleAlert];</code></div><div class="line number2 index1 alt1"><code class="js plain">[alertController&nbsp;addTextFieldWithConfigurationHandler:^(UITextField&nbsp;*textField){</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">textField.placeholder&nbsp;=&nbsp;@</code><code class="js string">"登录"</code><code class="js plain">;</code></div><div class="line number4 index3 alt1"><code class="js plain">}];</code></div><div class="line number5 index4 alt2"><code class="js plain">[alertController&nbsp;addTextFieldWithConfigurationHandler:^(UITextField&nbsp;*textField)&nbsp;{</code></div><div class="line number6 index5 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">textField.placeholder&nbsp;=&nbsp;@</code><code class="js string">"密码"</code><code class="js plain">;</code></div><div class="line number7 index6 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">textField.secureTextEntry&nbsp;=&nbsp;YES;</code></div><div class="line number8 index7 alt1"><code class="js plain">}];</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_731624" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">alertController.addTextFieldWithConfigurationHandler&nbsp;{&nbsp;</code></div><div class="line number2 index1 alt1"><code class="js plain">(textField:&nbsp;UITextField!)&nbsp;-&gt;&nbsp;Void&nbsp;</code><code class="js keyword">in</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">textField.placeholder&nbsp;=&nbsp;</code><code class="js string">"登录"</code></div><div class="line number4 index3 alt1"><code class="js plain">}</code></div><div class="line number5 index4 alt2"><code class="js plain">alertController.addTextFieldWithConfigurationHandler&nbsp;{&nbsp;</code></div><div class="line number6 index5 alt1"><code class="js plain">(textField:&nbsp;UITextField!)&nbsp;-&gt;&nbsp;Void&nbsp;</code><code class="js keyword">in</code></div><div class="line number7 index6 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">textField.placeholder&nbsp;=&nbsp;</code><code class="js string">"密码"</code></div><div class="line number8 index7 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">textField.secureTextEntry&nbsp;=&nbsp;</code><code class="js keyword">true</code></div><div class="line number9 index8 alt2"><code class="js plain">}</code></div></div></td></tr></tbody></table></div></div><p>在“好的”按钮按下时，我们让程序读取文本框中的值。</p><p>Objective-C版本：</p><div><div id="highlighter_988968" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">UIAlertAction&nbsp;*okAction&nbsp;=&nbsp;[UIAlertAction&nbsp;actionWithTitle:@</code><code class="js string">"好的"</code>&nbsp;<code class="js plain">style:UIAlertActionStyleDefault&nbsp;handler:^(UIAlertAction&nbsp;*action)&nbsp;{</code></div><div class="line number2 index1 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">UITextField&nbsp;*login&nbsp;=&nbsp;alertController.textFields.firstObject;</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">UITextField&nbsp;*password&nbsp;=&nbsp;alertController.textFields.lastObject;</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">...</code></div><div class="line number5 index4 alt2"><code class="js plain">}];</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_709883" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js keyword">var</code>&nbsp;<code class="js plain">okAction&nbsp;=&nbsp;UIAlertAction(title:&nbsp;</code><code class="js string">"好的"</code><code class="js plain">,&nbsp;style:&nbsp;UIAlertActionStyle.Default)&nbsp;{</code></div><div class="line number2 index1 alt1"><code class="js plain">(action:&nbsp;UIAlertAction!)&nbsp;-&gt;&nbsp;Void&nbsp;</code><code class="js keyword">in</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">var</code>&nbsp;<code class="js plain">login&nbsp;=&nbsp;alertController.textFields?.first&nbsp;as&nbsp;UITextField</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">var</code>&nbsp;<code class="js plain">password&nbsp;=&nbsp;alertController.textFields?.last&nbsp;as&nbsp;UITextField</code></div><div class="line number5 index4 alt2"><code class="js plain">}</code></div></div></td></tr></tbody></table></div></div><p>如
果我们想要实现UIAlertView中的委托方法alertViewShouldEnableOtherButton:方法的话可能会有一些复杂。假定
我们要让“登录”文本框中至少有3个字符才能激活“好的”按钮。很遗憾的是，在UIAlertController中并没有相应的委托方法，因此我们需要
向“登录”文本框中添加一个Observer。Observer模式定义对象间的一对多的依赖关系,当一个对象的状态发生改变时, 
所有依赖于它的对象都得到通知并被自动更新。我们可以在构造代码块中添加如下的代码片段来实现。</p><p>Objective-C版本：</p><div><div id="highlighter_40209" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">[alertController&nbsp;addTextFieldWithConfigurationHandler:^(UITextField&nbsp;*textField){</code></div><div class="line number2 index1 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">...</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">[[NSNotificationCenter&nbsp;defaultCenter]&nbsp;addObserver:self&nbsp;selector:@selector(alertTextFieldDidChange:)&nbsp;name:UITextFieldTextDidChangeNotification&nbsp;object:textField];</code></div><div class="line number4 index3 alt1"><code class="js plain">}];</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_739511" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">alertController.addTextFieldWithConfigurationHandler&nbsp;{</code></div><div class="line number2 index1 alt1"><code class="js plain">(textField:&nbsp;UITextField!)&nbsp;-&gt;&nbsp;Void&nbsp;</code><code class="js keyword">in</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">...</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">NSNotificationCenter.defaultCenter().addObserver(self,&nbsp;selector:&nbsp;Selector(</code><code class="js string">"alertTextFieldDidChange:"</code><code class="js plain">),&nbsp;name:&nbsp;UITextFieldTextDidChangeNotification,&nbsp;object:&nbsp;textField)</code></div><div class="line number5 index4 alt2"><code class="js plain">}</code></div></div></td></tr></tbody></table></div></div><p>当视图控制器释放的时候我们需要移除这个Observer，我们通过在每个按钮动作的handler代码块（还有其他任何可能释放视图控制器的地方）中添加合适的代码来实现它。比如说在okAction这个按钮动作中：</p><p>Objective-C版本：</p><div><div id="highlighter_13797" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">UIAlertAction&nbsp;*okAction&nbsp;=&nbsp;[UIAlertAction&nbsp;actionWithTitle:@</code><code class="js string">"好的"</code>&nbsp;<code class="js plain">style:UIAlertActionStyleDefault&nbsp;handler:^(UIAlertAction&nbsp;*action)&nbsp;{</code></div><div class="line number2 index1 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">...</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">[[NSNotificationCenter&nbsp;defaultCenter]&nbsp;removeObserver:self&nbsp;name:UITextFieldTextDidChangeNotification&nbsp;object:nil];</code></div><div class="line number4 index3 alt1"><code class="js plain">}];</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_644200" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js keyword">var</code>&nbsp;<code class="js plain">okAction&nbsp;=&nbsp;UIAlertAction(title:&nbsp;</code><code class="js string">"好的"</code><code class="js plain">,&nbsp;style:&nbsp;UIAlertActionStyle.Default)&nbsp;{</code></div><div class="line number2 index1 alt1"><code class="js plain">(action:&nbsp;UIAlertAction!)&nbsp;-&gt;&nbsp;Void&nbsp;</code><code class="js keyword">in</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">...</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">NSNotificationCenter.defaultCenter().removeObserver(self,&nbsp;name:&nbsp;UITextFieldTextDidChangeNotification,&nbsp;object:&nbsp;nil)</code></div><div class="line number5 index4 alt2"><code class="js plain">}</code></div></div></td></tr></tbody></table></div></div><p>在显示对话框之前，我们要冻结“好的”按钮</p><p>Objective-C版本：</p><div><div id="highlighter_186928" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">okAction.enabled&nbsp;=&nbsp;NO;</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_778127" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">okAction.enabled&nbsp;=&nbsp;</code><code class="js keyword">false</code></div></div></td></tr></tbody></table></div></div><p>接下来，在通知观察者（notification observer）中，我们需要在激活按钮状态前检查“登录”文本框的内容。</p><p>Objective-C版本：</p><div><div id="highlighter_335905" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">-&nbsp;(void)alertTextFieldDidChange:(NSNotification&nbsp;*)notification{</code></div><div class="line number2 index1 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">UIAlertController&nbsp;*alertController&nbsp;=&nbsp;(UIAlertController&nbsp;*)self.presentedViewController;</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">if</code>&nbsp;<code class="js plain">(alertController)&nbsp;{</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">UITextField&nbsp;*login&nbsp;=&nbsp;alertController.textFields.firstObject;</code></div><div class="line number5 index4 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">UIAlertAction&nbsp;*okAction&nbsp;=&nbsp;alertController.actions.lastObject;</code></div><div class="line number6 index5 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">okAction.enabled&nbsp;=&nbsp;login.text.length&nbsp;&gt;&nbsp;2;</code></div><div class="line number7 index6 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">}</code></div><div class="line number8 index7 alt1"><code class="js plain">}</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_63015" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">func&nbsp;alertTextFieldDidChange(notification:&nbsp;NSNotification){</code></div><div class="line number2 index1 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">var</code>&nbsp;<code class="js plain">alertController&nbsp;=&nbsp;self.presentedViewController&nbsp;as&nbsp;UIAlertController?</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">if</code>&nbsp;<code class="js plain">(alertController&nbsp;!=&nbsp;nil)&nbsp;{</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">var</code>&nbsp;<code class="js plain">login&nbsp;=&nbsp;alertController!.textFields?.first&nbsp;as&nbsp;UITextField</code></div><div class="line number5 index4 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">var</code>&nbsp;<code class="js plain">okAction&nbsp;=&nbsp;alertController!.actions.last&nbsp;as&nbsp;UIAlertAction</code></div><div class="line number6 index5 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">okAction.enabled&nbsp;=&nbsp;countElements(login.text)&nbsp;&gt;&nbsp;2</code></div><div class="line number7 index6 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">}</code></div><div class="line number8 index7 alt1"><code class="js plain">}</code></div></div></td></tr></tbody></table></div></div><p style="text-align: center;"><img src="ios_UIAlertController/1416967618423000.png" title="1416967618423000.png" alt="08.png"></p><p style="text-align: center;">UIAlertController的登录和密码对话框示例</p><p>好了，现在对话框的“好的”按钮被冻结了，除非在“登录”文本框中输入3个以上的字符：</p><p><strong>上拉菜单</strong></p><p>当需要给用户展示一系列选择的时候（选择恐惧症患者杀手），上拉菜单就能够派上大用场了。和对话框不同，上拉菜单的展示形式和设备大小有关。在iPhone上（紧缩宽度），上拉菜单从屏幕底部升起。在iPad上（常规宽度），上拉菜单以弹出框的形式展现。</p><p>创建上拉菜单的方式和创建对话框的方式非常类似，唯一的区别是它们的形式。</p><p>Objective-C版本：</p><div><div id="highlighter_362253" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">UIAlertController&nbsp;*alertController&nbsp;=&nbsp;[UIAlertController&nbsp;alertControllerWithTitle:@</code><code class="js string">"保存或删除数据"</code>&nbsp;<code class="js plain">message:@</code><code class="js string">"删除数据将不可恢复"</code>&nbsp;<code class="js plain">preferredStyle:&nbsp;UIAlertControllerStyleActionSheet];</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_592302" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js keyword">var</code>&nbsp;<code class="js plain">alertController&nbsp;=&nbsp;UIAlertController(title:&nbsp;</code><code class="js string">"保存或删除数据"</code><code class="js plain">,&nbsp;message:&nbsp;</code><code class="js string">"删除数据将不可恢复"</code><code class="js plain">,&nbsp;preferredStyle:&nbsp;UIAlertControllerStyle.ActionSheet)</code></div></div></td></tr></tbody></table></div></div><p>添加按钮动作的方式和对话框相同。</p><p>Objective-C版本：</p><div><div id="highlighter_471150" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">UIAlertAction&nbsp;*cancelAction&nbsp;=&nbsp;[UIAlertAction&nbsp;actionWithTitle:@</code><code class="js string">"取消"</code>&nbsp;<code class="js plain">style:UIAlertActionStyleCancel&nbsp;handler:nil];</code></div><div class="line number2 index1 alt1"><code class="js plain">UIAlertAction&nbsp;*deleteAction&nbsp;=&nbsp;[UIAlertAction&nbsp;actionWithTitle:@</code><code class="js string">"删除"</code>&nbsp;<code class="js plain">style:UIAlertActionStyleDestructive&nbsp;handler:nil];</code></div><div class="line number3 index2 alt2"><code class="js plain">UIAlertAction&nbsp;*archiveAction&nbsp;=&nbsp;[UIAlertAction&nbsp;actionWithTitle:@</code><code class="js string">"保存"</code>&nbsp;<code class="js plain">style:UIAlertActionStyleDefault&nbsp;handler:nil];</code></div><div class="line number4 index3 alt1"><code class="js plain">[alertController&nbsp;addAction:cancelAction];</code></div><div class="line number5 index4 alt2"><code class="js plain">[alertController&nbsp;addAction:deleteAction];</code></div><div class="line number6 index5 alt1"><code class="js plain">[alertController&nbsp;addAction:archiveAction];</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_166925" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js keyword">var</code>&nbsp;<code class="js plain">cancelAction&nbsp;=&nbsp;UIAlertAction(title:&nbsp;</code><code class="js string">"取消"</code><code class="js plain">,&nbsp;style:&nbsp;UIAlertActionStyle.Cancel,&nbsp;handler:&nbsp;nil)</code></div><div class="line number2 index1 alt1"><code class="js keyword">var</code>&nbsp;<code class="js plain">deleteAction&nbsp;=&nbsp;UIAlertAction(title:&nbsp;</code><code class="js string">"删除"</code><code class="js plain">,&nbsp;style:&nbsp;UIAlertActionStyle.Destructive,&nbsp;handler:&nbsp;nil)</code></div><div class="line number3 index2 alt2"><code class="js keyword">var</code>&nbsp;<code class="js plain">archiveAction&nbsp;=&nbsp;UIAlertAction(title:&nbsp;</code><code class="js string">"保存"</code><code class="js plain">,&nbsp;style:&nbsp;UIAlertActionStyle.Default,&nbsp;handler:&nbsp;nil)</code></div><div class="line number4 index3 alt1"><code class="js plain">alertController.addAction(cancelAction)</code></div><div class="line number5 index4 alt2"><code class="js plain">alertController.addAction(deleteAction)</code></div><div class="line number6 index5 alt1"><code class="js plain">alertController.addAction(archiveAction)</code></div></div></td></tr></tbody></table></div></div><p>您不能在上拉菜单中添加文本框，如果您强行作死添加了文本框，那么就会荣幸地得到一个运行时异常：</p><p><span style="color: rgb(227, 108, 9);">*
 Terminating app due to uncaught exception 
‘NSInternalInconsistencyException’, reason: ‘Text fields can only be 
added to an alert controller of style UIAlertControllerStyleAlert’</span></p><p>同样，简单的异常说明，我们也不多说了。</p><p>接下来我们就可以在iPhone或者其他紧缩宽度的设备上展示了，不出我们所料，运行得很成功。</p><p>Objective-C版本：</p><div><div id="highlighter_838664" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">[self&nbsp;presentViewController:alertController&nbsp;animated:YES&nbsp;completion:nil];</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_938209" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">self.presentViewController(alertController,&nbsp;animated:&nbsp;</code><code class="js keyword">true</code><code class="js plain">,&nbsp;completion:&nbsp;nil)</code></div></div></td></tr></tbody></table></div></div><p style="text-align: center;"><img src="ios_UIAlertController/1416967563883898.png" title="1416967563883898.png" alt="09.png"></p><p style="text-align: center;">iPhone上的上拉菜单效果</p><p>如果上拉菜单中有“取消”按钮的话，那么它永远都会出现在菜单的底部，不管添加的次序是如何（就是这么任性）。其他的按钮将会按照添加的次序从上往下依次显示。《iOS 用户界面指南》要求所有的“毁坏”样式按钮都必须排名第一（红榜嘛，很好理解的，对不对？）。</p><p>别激动得太早，我们现在还有一个很严重的问题，这个问题隐藏得比较深。当我们使用iPad或其他常规宽度的设备时，就会得到一个运行时异常：</p><p><span style="color: rgb(227, 108, 9);">Terminating
 app due to uncaught exception ‘NSGenericException’, reason: 
‘UIPopoverPresentationController 
(&lt;_uialertcontrolleractionsheetregularpresentationcontroller: 
0x7fc619588110=""&gt;) should have a non-nil sourceView or barButtonItem
 set before the presentation occurs.’<!--_uialertcontrolleractionsheetregularpresentationcontroller:--><!--_uialertcontrolleractionsheetregularpresentationcontroller:--></span><!--_uialertcontrolleractionsheetregularpresentationcontroller:--></p><p>就如我们之前所说，在常规宽度的设备上，上拉菜单是以弹出框的形式展现。弹出框必须要有一个能够作为源视图或者栏按钮项目的描点(anchor point)。由于在本例中我们是使用了常规的UIButton来触发上拉菜单的，因此我们就将其作为描点。</p><p>在iOS 8中我们不再需要小心翼翼地计算出弹出框的大小，UIAlertController将会根据设备大小自适应弹出框的大小。并且在iPhone或者紧缩宽度的设备中它将会返回nil值。配置该弹出框的代码如下：</p><p>Objective-C版本：</p><div><div id="highlighter_919776" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">UIPopoverPresentationController&nbsp;*popover&nbsp;=&nbsp;alertController.popoverPresentationController;</code></div><div class="line number2 index1 alt1"><code class="js keyword">if</code>&nbsp;<code class="js plain">(popover){</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">popover.sourceView&nbsp;=&nbsp;sender;</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">popover.sourceRect&nbsp;=&nbsp;sender.bounds;</code></div><div class="line number5 index4 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">popover.permittedArrowDirections&nbsp;=&nbsp;UIPopoverArrowDirectionAny;</code></div><div class="line number6 index5 alt1"><code class="js plain">}</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_732002" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js keyword">var</code>&nbsp;<code class="js plain">popover&nbsp;=&nbsp;alertController.popoverPresentationController</code></div><div class="line number2 index1 alt1"><code class="js keyword">if</code>&nbsp;<code class="js plain">(popover&nbsp;!=&nbsp;nil){</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">popover?.sourceView&nbsp;=&nbsp;sender</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">popover?.sourceRect&nbsp;=&nbsp;sender.bounds</code></div><div class="line number5 index4 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">popover?.permittedArrowDirections&nbsp;=&nbsp;UIPopoverArrowDirection.Any</code></div><div class="line number6 index5 alt1"><code class="js plain">}</code></div></div></td></tr></tbody></table></div></div><p style="text-align: center;"><img src="ios_UIAlertController/1416967530355906.png" title="1416967530355906.png" alt="10.png"></p><p style="text-align: center;">iPad上的上拉菜单效果</p><p>UIPopoverPresentationController类同样也是在iOS 8中新出现的类，用来替换UIPopoverController的。这个时候上拉菜单是以一个固定在源按钮上的弹出框的形式显示的。</p><p>要注意UIAlertController在使用弹出框的时候自动移除了取消按钮。用户通过点击弹出框的外围部分来实现取消操作，因此取消按钮便不再必需。</p><p><strong>释放对话框控制器</strong></p><p>通
常情况下，当用户选中一个动作后对话框控制器将会自行释放。不过您仍然可以在需要的时候以编程方式释放它，就像释放其他视图控制器一样。您应当在应用程序
转至后台运行时移除对话框或者上拉菜单。假定我们正在监听UIApplicationDidEnterBackgroundNotification通知
消息，我们可以在observer中释放任何显示出来的视图控制器。（参考在viewDidLoad方法中设立observer的示例代码）。</p><p>Objective-C版本：</p><div><div id="highlighter_5274" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">-&nbsp;(void)didEnterBackground:(NSNotification&nbsp;*)notification</code></div><div class="line number2 index1 alt1"><code class="js plain">{</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;</code><code class="js plain">[[NSNotificationCenter&nbsp;defaultCenter]&nbsp;removeObserver:self&nbsp;name:UITextFieldTextDidChangeNotification&nbsp;object:nil];</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;</code><code class="js plain">[self.presentedViewController&nbsp;dismissViewControllerAnimated:NO&nbsp;completion:nil];</code></div><div class="line number5 index4 alt2"><code class="js plain">}</code></div></div></td></tr></tbody></table></div></div><p>swift版本：</p><div><div id="highlighter_64785" class="syntaxhighlighter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">func&nbsp;didEnterackground(notification:&nbsp;NSNotification){</code></div><div class="line number2 index1 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">NSNotificationCenter.defaultCenter().removeObserver(self,&nbsp;name:&nbsp;UITextFieldTextDidChangeNotification,&nbsp;object:&nbsp;nil)</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">self.presentedViewController?.dismissViewControllerAnimated(</code><code class="js keyword">false</code><code class="js plain">,&nbsp;completion:&nbsp;nil)</code></div><div class="line number4 index3 alt1"><code class="js plain">}</code></div></div></td></tr></tbody></table></div></div><p>注意，要保证运行安全我们同样要确保移除所有的文本框observer。</p><p><strong>我们来总结一下</strong></p><p>这
篇文章比较长，但是希望能够对您有所帮助。原先的UIAlertView和UIActionSheet类仍然可以在iOS 
8中工作得很好，所以没有必要急于更换代码（要知道本文用到的许多函数尽在iOS 
8中支持）。本文的代码可以在我的Github主页上找到，包括了AlertController - ObjC以及AlertController -
 swift。</p>
    </div>
    <div id="page" style="padding:0"></div>
  </div>

    <!--相关资讯-->

            <!-- 评论模块start -->
            
            

  <div id="coco-store" style="display:none">
        <div class="storebox">
            <h5>提示</h5>
            <h3>已经收藏该篇文章</h3>
            <p class="p1"><a href="http://www.cocoachina.com/bbs/u.php?action=favor&amp;tag=1" target="_blank">去我的收藏夹</a></p>
            <p class="p2"><a href="http://www.cocoachina.com/bbs/login.php">请登录</a></p>
        </div>
    </div> <!--收藏提示-->
</div>



    <link type="text/css" rel="stylesheet" href="ios_UIAlertController/shCoreDefault.css">




<!--./cont-->

<!-- 回复评论框模板 -->

<!-- 回复评论框模板 -->

<!-- 评论模板 -->


<!--footer--><!--./footer-->



</body></html>