<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="StyleSheet" href="../css/develop_standard/layout.css" type="text/css" />
    <link rel="StyleSheet" href="../css/develop_standard/style.css" type="text/css" />
    <style type="text/css">
        .pun, .opn, .clo {
            color: #660;
        }
    </style>
    <title>PHP过滤各种HTML标签</title>
</head>
<body>
<section class="layout">
    <article  data-name="preface" class="book">
        <header>
            <h1>PHP过滤各种HTML标签</h1>
            <div class="description"></div>
        </header>
        <section class="content">

        
            <h2>PHP代码</h2>

<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class=""><code><span class="pln">$str=preg_replace("/<\s*img\s+[^>]*?src\s*=\s*(\'|\")(.*?)\\1[^>]*?\/?\s*>/i", " ", $str); //过滤img标签
 
$str=preg_replace("/\s+/", " ", $str); //过滤多余回车
 
$str=preg_replace("/<[ ]+/si","<",$str); //过滤<__("<"号后面带空格)
 
$str=preg_replace("/<\!--.*?-->/si","",$str); //注释
 
$str=preg_replace("/<(\!.*?)>/si","",$str); //过滤DOCTYPE
 
$str=preg_replace("/<(\/?html.*?)>/si","",$str); //过滤html标签
 
$str=preg_replace("/<(\/?head.*?)>/si","",$str); //过滤head标签
 
$str=preg_replace("/<(\/?meta.*?)>/si","",$str); //过滤meta标签
 
$str=preg_replace("/<(\/?body.*?)>/si","",$str); //过滤body标签
 
$str=preg_replace("/<(\/?link.*?)>/si","",$str); //过滤link标签
 
$str=preg_replace("/<(\/?form.*?)>/si","",$str); //过滤form标签
 
$str=preg_replace("/cookie/si","COOKIE",$str); //过滤COOKIE标签
 
$str=preg_replace("/<(applet.*?)>(.*?)<(\/applet.*?)>/si","",$str); //过滤applet标签
 
$str=preg_replace("/<(\/?applet.*?)>/si","",$str); //过滤applet标签
 
$str=preg_replace("/<(style.*?)>(.*?)<(\/style.*?)>/si","",$str); //过滤style标签
 
$str=preg_replace("/<(\/?style.*?)>/si","",$str); //过滤style标签
 
$str=preg_replace("/<(title.*?)>(.*?)<(\/title.*?)>/si","",$str); //过滤title标签
 
$str=preg_replace("/<(\/?title.*?)>/si","",$str); //过滤title标签
 
$str=preg_replace("/<(object.*?)>(.*?)<(\/object.*?)>/si","",$str); //过滤object标签
 
$str=preg_replace("/<(\/?objec.*?)>/si","",$str); //过滤object标签
 
$str=preg_replace("/<(noframes.*?)>(.*?)<(\/noframes.*?)>/si","",$str); //过滤noframes标签
 
$str=preg_replace("/<(\/?noframes.*?)>/si","",$str); //过滤noframes标签
 
$str=preg_replace("/<(i?frame.*?)>(.*?)<(\/i?frame.*?)>/si","",$str); //过滤frame标签
 
$str=preg_replace("/<(\/?i?frame.*?)>/si","",$str); //过滤frame标签
 
$str=preg_replace("/<(script.*?)>(.*?)<(\/script.*?)>/si","",$str); //过滤script标签
 
$str=preg_replace("/<(\/?script.*?)>/si","",$str); //过滤script标签
 
$str=preg_replace("/javascript/si","Javascript",$str); //过滤script标签
 
$str=preg_replace("/vbscript/si","Vbscript",$str); //过滤script标签
 
$str=preg_replace("/on([a-z]+)\s*=/si","On\\1=",$str); //过滤script标签
 
$str=preg_replace("/&#/si","&＃",$str); //过滤script标签</span></code></li></ol></pre>


        </section>
        <footer>

        </footer>
    </article>


</section>
</body>
</html>