<!DOCTYPE html>
<!-- saved from url=(0044)http://www.cnblogs.com/coco1s/p/5499469.html -->
<html lang="zh-cn"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>【前端性能】高性能滚动 scroll 及页面渲染优化 - ChokCoco - 博客园</title>
<link type="text/css" rel="stylesheet" href="./js_scroll/blog-common.css">
<link type="text/css" rel="stylesheet" href="./js_scroll/177636.css">
<link title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cnblogs.com/coco1s/rss">
<link title="RSD" type="application/rsd+xml" rel="EditURI" href="http://www.cnblogs.com/coco1s/rsd.xml">
<link type="application/wlwmanifest+xml" rel="wlwmanifest" href="http://www.cnblogs.com/coco1s/wlwmanifest.xml">

<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body><div id="MathJax_Message" style="display: none;"></div>

<!--done-->
<div id="home"><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		
<div id="post_detail">
<!--done-->
<div id="topics">
	<div class="post">
		<h1 class="postTitle">
			<a id="cb_post_title_url" class="postTitle2" href="./js_scroll/【前端性能】高性能滚动 scroll 及页面渲染优化 - ChokCoco - 博客园.html">【前端性能】高性能滚动 scroll 及页面渲染优化</a>
		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body"><p><span style="font-size: 14px; font-family: verdana, geneva;">最近在研究页面渲染及web动画的性能问题，以及拜读<a href="https://github.com/cssmagic/CSS-Secrets" target="_blank">《CSS SECRET》</a>（CSS揭秘）这本大作。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">本文主要想谈谈页面优化之<span style="color: #ff00ff;">滚动优化</span>。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">主要内容包括了为何需要优化滚动事件，滚动与页面渲染的关系，节流与防抖，pointer-events:none 优化滚动。因为本文涉及了很多很多基础，可以对照上面的知识点，选择性跳到相应地方阅读。</span></p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 14pt; font-family: verdana, geneva;"><span style="background-color: #ff6600;">&nbsp; </span>&nbsp;滚动优化的由来</span></strong></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">滚动优化其实也不仅仅指滚动（scroll&nbsp;事件），还包括了例如 resize 这类会频繁触发的事件。简单的看看：</span></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_463869" class="syntaxhighlighter  javascript"><div class="toolbar"><span><a href="http://www.cnblogs.com/coco1s/p/5499469.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript keyword">var</code> <code class="javascript plain">i = 0;</code></div><div class="line number2 index1 alt1"><code class="javascript plain">window.addEventListener(</code><code class="javascript string">'scroll'</code><code class="javascript plain">,</code><code class="javascript keyword">function</code><code class="javascript plain">(){</code></div><div class="line number3 index2 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">console.log(i++);</code></div><div class="line number4 index3 alt1"><code class="javascript plain">},</code><code class="javascript keyword">false</code><code class="javascript plain">);</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><span style="font-size: 14px; font-family: verdana, geneva;">输出如下：</span></p>
<p><img src="./js_scroll/608782-20160516205933748-797476534.gif" alt="" width="461" height="333"></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">在绑定 scroll 、resize 这类事件时，当它发生时，它被触发的频次非常高，间隔很近。如果事件中涉及到大量的位置计算、DOM 操作、元素重绘等工作且这些工作无法在下一个 scroll 事件触发前完成，就会造成浏览器掉帧。加之用户鼠标滚动往往是连续的，就会持续触发 scroll 事件导致掉帧扩大、浏览器 CPU 使用率增加、用户体验受到影响。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">在滚动事件中绑定回调应用场景也非常多，在图片的懒加载、下滑自动加载数据、侧边浮动导航栏等中有着广泛的应用。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">当用户浏览网页时，拥有平滑滚动经常是被忽视但却是用户体验中至关重要的部分。当滚动表现正常时，用户就会感觉应用十分流畅，令人愉悦，反之，笨重不自然卡顿的滚动，则会给用户带来极大不舒爽的感觉。</span></p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 14pt; font-family: verdana, geneva;"><span style="background-color: #ff6600;">&nbsp; </span>&nbsp;滚动与页面渲染的关系</span></strong></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">为什么滚动事件需要去优化？因为它影响了性能。那它影响了什么性能呢？额......这个就要从页面性能问题由什么决定说起。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">我觉得搞技术一定要追本溯源，不要看到别人一篇文章说滚动事件会导致卡顿并说了一堆解决方案优化技巧就如获至宝奉为圭臬，我们需要的不是拿来主义而是批判主义，多去源头看看。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">从问题出发，一步一步寻找到最后，就很容易找到问题的症结所在，只有这样得出的解决方法才容易记住。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">说教了一堆废话，不喜欢的直接忽略哈，回到正题，要找到优化的入口就要知道问题出在哪里，对于页面优化而言，那么我们就要知道页面的渲染原理：</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">浏览器渲染原理我在我上一篇文章里也要详细的讲到，不过更多的是从动画渲染的角度去讲的：<a href="http://www.cnblogs.com/coco1s/p/5439619.html" target="_blank">【Web动画】CSS3 3D 行星运转 &amp;&amp; 浏览器渲染原理</a>&nbsp;。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">想了想，还是再简单的描述下，我发现每次 review 这些知识点都有新的收获，这次换一张图，以 chrome 为例子，一个 Web 页面的展示，简单来说可以认为经历了以下下几个步骤：</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;"><img src="./js_scroll/608782-20160516214245123-1124441228.jpg" alt=""></span></p>
<ul>
<li>
<p><span style="font-size: 14px; font-family: verdana, geneva;"><strong>JavaScript</strong>：一般来说，我们会使用&nbsp;JavaScript&nbsp;来实现一些视觉变化的效果。比如做一个动画或者往页面里添加一些&nbsp;DOM&nbsp;元素等。</span></p>
</li>
<li>
<p><span style="font-size: 14px; font-family: verdana, geneva;"><strong>Style：</strong>计算样式，这个过程是根据&nbsp;CSS&nbsp;选择器，对每个&nbsp;DOM&nbsp;元素匹配对应的&nbsp;CSS&nbsp;样式。这一步结束之后，就确定了每个&nbsp;DOM&nbsp;元素上该应用什么&nbsp;CSS&nbsp;样式规则。</span></p>
</li>
<li>
<p><span style="font-size: 14px; font-family: verdana, geneva;"><strong>Layout：</strong>布局，上一步确定了每个&nbsp;DOM&nbsp;元素的样式规则，这一步就是具体计算每个&nbsp;DOM&nbsp;元素最终在屏幕上显示的大小和位置。web&nbsp;页面中元素的布局是相对的，因此一个元素的布局发生变化，会联动地引发其他元素的布局发生变化。比如，&lt;body&gt;&nbsp;元素的宽度的变化会影响其子元素的宽度，其子元素宽度的变化也会继续对其孙子元素产生影响。因此对于浏览器来说，布局过程是经常发生的。</span></p>
</li>
<li>
<p><span style="font-size: 14px; font-family: verdana, geneva;"><strong>Paint：</strong>绘制，本质上就是填充像素的过程。包括绘制文字、颜色、图像、边框和阴影等，也就是一个&nbsp;DOM&nbsp;元素所有的可视效果。一般来说，这个绘制过程是在多个层上完成的。</span></p>
</li>
<li>
<p><span style="font-size: 14px; font-family: verdana, geneva;"><strong>Composite：</strong>渲染层合并，由上一步可知，对页面中&nbsp;DOM&nbsp;元素的绘制是在多个层上进行的。在每个层上完成绘制过程之后，浏览器会将所有层按照合理的顺序合并成一个图层，然后显示在屏幕上。对于有位置重叠的元素的页面，这个过程尤其重要，因为一旦图层的合并顺序出错，将会导致元素显示异常。</span></p>
</li>
</ul>
<p><span style="font-size: 14px; font-family: verdana, geneva;">这里又涉及了层（GraphicsLayer）的概念，GraphicsLayer 层是作为纹理(texture)上传给 GPU 的，现在经常能看到说 GPU 硬件加速，就和所谓的层的概念密切相关。但是和本文的滚动优化相关性不大，有兴趣深入了解的可以自行 google 更多。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">简单来说，网页生成的时候，至少会渲染（Layout+Paint）一次。用户访问的过程中，还会不断重新的重排（reflow）和重绘（repaint）。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">其中，用户 scroll 和 resize 行为（即是滑动页面和改变窗口大小）会导致页面不断的重新渲染。</span></p>
<p><span style="font-family: verdana, geneva; font-size: 14px;">当你滚动页面时，浏览器可能会需要绘制这些层(有时也被称为合成层)里的一些像素。通过元素分组，当某个层的内容改变时，我们只需要更新该层的结构，并仅仅重绘和栅格化渲染层结构里变化的那一部分，而无需完全重绘。显然，如果当你滚动时，像视差网站(<a href="http://waaac.co/" target="_blank">戳我看看</a>)这样有东西在移动时，有可能在多层导致大面积的内容调整，这会导致大量的绘制工作。</span></p>
<p>&nbsp;</p>
<p><strong><span style="font-family: verdana, geneva; font-size: 14pt;"><span style="background-color: #ff6600;">&nbsp; </span>&nbsp;防抖（Debouncing）和节流（Throttling）</span></strong></p>
<p><span style="font-family: verdana, geneva; font-size: 14px;">scroll 事件本身会触发页面的重新渲染，同时&nbsp;scroll&nbsp;事件的 handler 又会被高频度的触发, 因此事件的 handler 内部不应该有复杂操作，例如 DOM 操作就不应该放在事件处理中。</span></p>
<p><span style="font-family: verdana, geneva; font-size: 14px;">针对此类高频度触发事件问题（例如页面 scroll ，屏幕 resize，监听用户输入等），下面介绍两种常用的解决方法，防抖和节流。</span></p>
<p><span style="font-family: verdana, geneva; font-size: 14px;"><strong>防抖（Debouncing）</strong></span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">防抖技术即是可以把多个顺序地调用合并成一次，也就是在一定时间内，规定事件被触发的次数。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">通俗一点来说，看看下面这个简化的例子：</span></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_601067" class="syntaxhighlighter  javascript"><div class="toolbar"><span><a href="http://www.cnblogs.com/coco1s/p/5499469.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript comments">// 简单的防抖动函数</code></div><div class="line number2 index1 alt1"><code class="javascript keyword">function</code> <code class="javascript plain">debounce(func, wait, immediate) {</code></div><div class="line number3 index2 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">// 定时器变量</code></div><div class="line number4 index3 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">var</code> <code class="javascript plain">timeout;</code></div><div class="line number5 index4 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">return</code> <code class="javascript keyword">function</code><code class="javascript plain">() {</code></div><div class="line number6 index5 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">// 每次触发 scroll handler 时先清除定时器</code></div><div class="line number7 index6 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">clearTimeout(timeout);</code></div><div class="line number8 index7 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">// 指定 xx ms 后触发真正想进行的操作 handler</code></div><div class="line number9 index8 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">timeout = setTimeout(func, wait);</code></div><div class="line number10 index9 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">};</code></div><div class="line number11 index10 alt2"><code class="javascript plain">};</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="javascript comments">// 实际想绑定在 scroll 事件上的 handler</code></div><div class="line number14 index13 alt1"><code class="javascript keyword">function</code> <code class="javascript plain">realFunc(){</code></div><div class="line number15 index14 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">console.log(</code><code class="javascript string">"Success"</code><code class="javascript plain">);</code></div><div class="line number16 index15 alt1"><code class="javascript plain">}</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="javascript comments">// 采用了防抖动</code></div><div class="line number19 index18 alt2"><code class="javascript plain">window.addEventListener(</code><code class="javascript string">'scroll'</code><code class="javascript plain">,debounce(realFunc,500));</code></div><div class="line number20 index19 alt1"><code class="javascript comments">// 没采用防抖动</code></div><div class="line number21 index20 alt2"><code class="javascript plain">window.addEventListener(</code><code class="javascript string">'scroll'</code><code class="javascript plain">,realFunc);</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><span style="font-size: 14px; font-family: verdana, geneva;">上面简单的防抖的例子可以拿到浏览器下试一下，大概功能就是如果 500ms 内没有连续触发两次 scroll 事件，那么才会触发我们真正想在 scroll 事件中触发的函数。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">上面的示例可以更好的封装一下：</span></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_220664" class="syntaxhighlighter  javascript"><div class="toolbar"><span><a href="http://www.cnblogs.com/coco1s/p/5499469.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript comments">// 防抖动函数</code></div><div class="line number2 index1 alt1"><code class="javascript keyword">function</code> <code class="javascript plain">debounce(func, wait, immediate) {</code></div><div class="line number3 index2 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">var</code> <code class="javascript plain">timeout;</code></div><div class="line number4 index3 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">return</code> <code class="javascript keyword">function</code><code class="javascript plain">() {</code></div><div class="line number5 index4 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">var</code> <code class="javascript plain">context = </code><code class="javascript keyword">this</code><code class="javascript plain">, args = arguments;</code></div><div class="line number6 index5 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">var</code> <code class="javascript plain">later = </code><code class="javascript keyword">function</code><code class="javascript plain">() {</code></div><div class="line number7 index6 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">timeout = </code><code class="javascript keyword">null</code><code class="javascript plain">;</code></div><div class="line number8 index7 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">if</code> <code class="javascript plain">(!immediate) func.apply(context, args);</code></div><div class="line number9 index8 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">};</code></div><div class="line number10 index9 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">var</code> <code class="javascript plain">callNow = immediate &amp;&amp; !timeout;</code></div><div class="line number11 index10 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">clearTimeout(timeout);</code></div><div class="line number12 index11 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">timeout = setTimeout(later, wait);</code></div><div class="line number13 index12 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">if</code> <code class="javascript plain">(callNow) func.apply(context, args);</code></div><div class="line number14 index13 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">};</code></div><div class="line number15 index14 alt2"><code class="javascript plain">};</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="javascript keyword">var</code> <code class="javascript plain">myEfficientFn = debounce(</code><code class="javascript keyword">function</code><code class="javascript plain">() {</code></div><div class="line number18 index17 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">// 滚动中的真正的操作</code></div><div class="line number19 index18 alt2"><code class="javascript plain">}, 250);</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="javascript comments">// 绑定监听</code></div><div class="line number22 index21 alt1"><code class="javascript plain">window.addEventListener(</code><code class="javascript string">'resize'</code><code class="javascript plain">, myEfficientFn);</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><span style="font-family: verdana, geneva;"><strong><span style="font-size: 14px;">节流（Throttling）</span></strong></span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">防抖函数确实不错，但是也存在问题，譬如图片的懒加载，我希望在下滑过程中图片不断的被加载出来，而不是只有当我停止下滑时候，图片才被加载出来。又或者下滑时候的数据的 ajax 请求加载也是同理。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">这个时候，我们希望即使页面在不断被滚动，但是滚动 handler 也可以以一定的频率被触发（譬如 250ms 触发一次），这类场景，就要用到另一种技巧，称为节流函数（throttling）。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">节流函数，只允许一个函数在 X 毫秒内执行一次。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">与防抖相比，节流函数最主要的不同在于它保证在 X 毫秒内至少执行一次我们希望触发的事件 handler。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">与防抖相比，节流函数多了一个 mustRun 属性，代表 mustRun 毫秒内，必然会触发一次 handler ，同样是利用定时器，看看简单的示例：</span></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_617356" class="syntaxhighlighter  javascript"><div class="toolbar"><span><a href="http://www.cnblogs.com/coco1s/p/5499469.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript comments">// 简单的节流函数</code></div><div class="line number2 index1 alt1"><code class="javascript keyword">function</code> <code class="javascript plain">throttle(func, wait, mustRun) {</code></div><div class="line number3 index2 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">var</code> <code class="javascript plain">timeout,</code></div><div class="line number4 index3 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">startTime = </code><code class="javascript keyword">new</code> <code class="javascript plain">Date();</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">return</code> <code class="javascript keyword">function</code><code class="javascript plain">() {</code></div><div class="line number7 index6 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">var</code> <code class="javascript plain">context = </code><code class="javascript keyword">this</code><code class="javascript plain">,</code></div><div class="line number8 index7 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">args = arguments,</code></div><div class="line number9 index8 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">curTime = </code><code class="javascript keyword">new</code> <code class="javascript plain">Date();</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">clearTimeout(timeout);</code></div><div class="line number12 index11 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">// 如果达到了规定的触发时间间隔，触发 handler</code></div><div class="line number13 index12 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript keyword">if</code><code class="javascript plain">(curTime - startTime &gt;= mustRun){</code></div><div class="line number14 index13 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">func.apply(context,args);</code></div><div class="line number15 index14 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">startTime = curTime;</code></div><div class="line number16 index15 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">// 没达到触发间隔，重新设定定时器</code></div><div class="line number17 index16 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code><code class="javascript keyword">else</code><code class="javascript plain">{</code></div><div class="line number18 index17 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">timeout = setTimeout(func, wait);</code></div><div class="line number19 index18 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">}</code></div><div class="line number20 index19 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">};</code></div><div class="line number21 index20 alt2"><code class="javascript plain">};</code></div><div class="line number22 index21 alt1"><code class="javascript comments">// 实际想绑定在 scroll 事件上的 handler</code></div><div class="line number23 index22 alt2"><code class="javascript keyword">function</code> <code class="javascript plain">realFunc(){</code></div><div class="line number24 index23 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">console.log(</code><code class="javascript string">"Success"</code><code class="javascript plain">);</code></div><div class="line number25 index24 alt2"><code class="javascript plain">}</code></div><div class="line number26 index25 alt1"><code class="javascript comments">// 采用了节流函数</code></div><div class="line number27 index26 alt2"><code class="javascript plain">window.addEventListener(</code><code class="javascript string">'scroll'</code><code class="javascript plain">,throttle(realFunc,500,1000));</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><span style="font-size: 14px; font-family: verdana, geneva;">上面简单的节流函数的例子可以拿到浏览器下试一下，大概功能就是如果在一段时间内 scroll 触发的间隔一直短于 500ms ，那么能保证事件我们希望调用的 handler 至少在 1000ms 内会触发一次。</span></p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 14pt; font-family: verdana, geneva;"><span style="background-color: #ff6600;">&nbsp; </span>&nbsp;使用 rAF（requestAnimationFrame）触发滚动事件</span></strong></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">上面介绍的抖动与节流实现的方式都是借助了定时器 setTimeout ，但是如果页面只需要兼容高版本浏览器或应用在移动端，又或者页面需要追求高精度的效果，那么可以使用浏览器的原生方法 rAF（requestAnimationFrame）。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;"><strong>requestAnimationFrame</strong></span></p>
<p><span style="font-family: verdana, geneva; font-size: 14px;">window.requestAnimationFrame() 这个方法是用来在页面重绘之前，通知浏览器调用一个指定的函数。这个方法接受一个函数为参，该函数会在重绘前调用。</span></p>
<p><span style="font-family: verdana, geneva; font-size: 14px;">rAF 常用于 web 动画的制作，用于准确控制页面的帧刷新渲染，让动画效果更加流畅，当然它的作用不仅仅局限于动画制作，我们可以利用它的特性将它视为一个定时器。（当然它不是定时器）</span></p>
<p><span style="font-family: verdana, geneva; font-size: 14px;">通常来说，rAF 被调用的频率是每秒 60 次，也就是 1000/60 ，触发频率大概是 16.7ms 。（</span><span style="font-size: 14px; font-family: verdana, geneva;">当执行复杂操作时，当它发现无法维持 60fps 的频率时，它会把频率降低到 30fps 来保持帧数的稳定。</span><span style="font-family: verdana, geneva; font-size: 14px;">）</span></p>
<p><span style="font-family: verdana, geneva; font-size: 14px;">简单而言，使用&nbsp;requestAnimationFrame 来触发滚动事件，相当于上面的：</span></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_977611" class="syntaxhighlighter  javascript"><div class="toolbar"><span><a href="http://www.cnblogs.com/coco1s/p/5499469.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript plain">throttle(func, xx, 1000/60) </code><code class="javascript comments">//xx 代表 xx ms内不会重复触发事件 handler</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><span style="font-size: 14px; font-family: verdana, geneva;">简单的示例如下：</span></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_299592" class="syntaxhighlighter  javascript"><div class="toolbar"><span><a href="http://www.cnblogs.com/coco1s/p/5499469.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript keyword">var</code> <code class="javascript plain">ticking = </code><code class="javascript keyword">false</code><code class="javascript plain">; </code><code class="javascript comments">// rAF 触发锁</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="javascript keyword">function</code> <code class="javascript plain">onScroll(){</code></div><div class="line number4 index3 alt1"><code class="javascript spaces">&nbsp;&nbsp;</code><code class="javascript keyword">if</code><code class="javascript plain">(!ticking) {</code></div><div class="line number5 index4 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">requestAnimationFrame(realFunc);</code></div><div class="line number6 index5 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">ticking = </code><code class="javascript keyword">true</code><code class="javascript plain">;</code></div><div class="line number7 index6 alt2"><code class="javascript spaces">&nbsp;&nbsp;</code><code class="javascript plain">}</code></div><div class="line number8 index7 alt1"><code class="javascript plain">}</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="javascript keyword">function</code> <code class="javascript plain">realFunc(){</code></div><div class="line number11 index10 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript comments">// do something...</code></div><div class="line number12 index11 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">console.log(</code><code class="javascript string">"Success"</code><code class="javascript plain">);</code></div><div class="line number13 index12 alt2"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">ticking = </code><code class="javascript keyword">false</code><code class="javascript plain">;</code></div><div class="line number14 index13 alt1"><code class="javascript plain">}</code></div><div class="line number15 index14 alt2"><code class="javascript comments">// 滚动事件监听</code></div><div class="line number16 index15 alt1"><code class="javascript plain">window.addEventListener(</code><code class="javascript string">'scroll'</code><code class="javascript plain">, onScroll, </code><code class="javascript keyword">false</code><code class="javascript plain">);</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><span style="font-size: 14px; font-family: verdana, geneva;">上面简单的使用 rAF 的例子可以拿到浏览器下试一下，大概功能就是在滚动的过程中，保持以 16.7ms 的频率触发事件 handler。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">使用&nbsp;requestAnimationFrame 优缺点并存，首先我们不得不考虑它的兼容问题，其次因为它只能实现以 16.7ms 的频率来触发，代表它的可调节性十分差。但是相比&nbsp;throttle(func, xx, 16.7) ，用于更复杂的场景时，rAF 可能效果更佳，性能更好。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;"><strong>总结一下</strong>&nbsp;</span></p>
<ul>
<li>
<p><span style="font-size: 14px; font-family: verdana, geneva;">防抖动：防抖技术即是可以把多个顺序地调用合并成一次，也就是在一定时间内，规定事件被触发的次数。</span></p>
</li>
<li>
<p><span style="font-size: 14px; font-family: verdana, geneva;">节流函数：只允许一个函数在 X 毫秒内执行一次，只有当上一次函数执行后过了你规定的时间间隔，才能进行下一次该函数的调用。</span></p>
</li>
<li>
<p><span style="font-size: 14px; font-family: verdana, geneva;">rAF：16.7ms 触发一次 handler，降低了可控性，但是提升了性能和精确度。</span></p>
</li>
</ul>
<p>&nbsp;</p>
<p><span style="font-size: 14pt;"><strong><span style="font-family: verdana, geneva;"><span style="background-color: #ff6600;">&nbsp; </span>&nbsp;简化 scroll 内的操作</span></strong></span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">上面介绍的方法都是如何去优化 scroll 事件的触发，避免 scroll 事件过度消耗资源的。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">但是从本质上而言，我们应该尽量去精简 scroll 事件的 handler ，将一些变量的初始化、不依赖于滚动位置变化的计算等都应当在 scroll 事件外提前就绪。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">建议如下：</span></p>
<p><strong><span style="font-size: 14px; font-family: verdana, geneva;">避免在<strong>scroll 事件</strong>中修改样式属性 /&nbsp;<strong>将样式操作从 scroll 事件中剥离</strong></span></strong></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;"><img src="./js_scroll/608782-20160517194417998-1526294600.jpg" alt="" width="773" height="211"></span></p>
<p>&nbsp;</p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">输入事件处理函数，比如 scroll / touch 事件的处理，都会在&nbsp;requestAnimationFrame&nbsp;之前被调用执行。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">因此，如果你在 scroll 事件的处理函数中做了修改样式属性的操作，那么这些操作会被浏览器暂存起来。然后在调用&nbsp;requestAnimationFrame&nbsp;的时候，如果你在一开始做了读取样式属性的操作，那么这将会导致触发浏览器的强制同步布局。</span></p>
<p>&nbsp;</p>
<p><strong><span style="font-size: 14pt; font-family: verdana, geneva;"><span style="background-color: #ff6600;">&nbsp; </span>&nbsp;滑动过程中尝试使用 pointer-events:&nbsp;<span class="expand-element"><span class="value">none</span></span>&nbsp;禁止鼠标事件</span></strong></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">大部分人可能都不认识这个属性，嗯，那么它是干什么用的呢？</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;"><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/pointer-events" target="_blank">pointer-events</a>&nbsp;是一个 CSS 属性，可以有多个不同的值，属性的一部分值仅仅与 SVG 有关联，这里我们只关注<span class="styles-clipboard-only">&nbsp;<span class="webkit-css-property">pointer-events:&nbsp;<span class="expand-element"><span class="value">none</span></span></span></span>&nbsp;的情况，大概的意思就是禁止鼠标行为，应用了该属性后，譬如鼠标点击，hover 等功能都将失效，即是元素不会成为鼠标事件的 target。</span></p>
<p><span style="font-family: verdana, geneva; font-size: 14px;">可以就近 F12 打开开发者工具面板，给 &lt;body&gt; 标签添加上&nbsp;pointer-events:&nbsp;<span class="expand-element"><span class="value">none 样式，然后在页面上感受下效果，发现所有鼠标事件都被禁止了。</span></span></span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">那么它有什么用呢？</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">pointer-events:&nbsp;<span class="expand-element"><span class="value">none&nbsp;</span></span>可用来提高滚动时的帧频。的确，当滚动时，鼠标悬停在某些元素上，则触发其上的 hover 效果，然而这些影响通常不被用户注意，并多半导致滚动出现问题。对 body&nbsp;元素应用&nbsp;pointer-events:&nbsp;<span class="expand-element"><span class="value">none&nbsp;</span></span>，禁用了包括 hover&nbsp;在内的鼠标事件，从而提高滚动性能。</span></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_895845" class="syntaxhighlighter  javascript"><div class="toolbar"><span><a href="http://www.cnblogs.com/coco1s/p/5499469.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="javascript plain">.disable-hover {</code></div><div class="line number2 index1 alt1"><code class="javascript spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="javascript plain">pointer-events: none;</code></div><div class="line number3 index2 alt2"><code class="javascript plain">}</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><span style="font-size: 14px; font-family: verdana, geneva;">大概的做法就是在页面滚动的时候, 给 &lt;body&gt; 添加上&nbsp;.disable-hover 样式，那么在滚动停止之前, 所有鼠标事件都将被禁止。当滚动结束之后，再移除该属性。</span></p>
<p><span style="font-family: verdana, geneva; font-size: 14px;">可以查看这个 <a href="https://dl.dropboxusercontent.com/u/2272348/codez/expensivescroll/demo.html" target="_blank">demo</a> 页面。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">上面说 pointer-events:&nbsp;<span class="expand-element"><span class="value">none&nbsp;可用来提高滚动时的帧频 的这</span></span>段话摘自&nbsp;<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/pointer-events" target="_blank">pointer-events-MDN</a>&nbsp;，还专门有文章讲解过这个技术：</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;"><a href="https://www.thecssninja.com/javascript/pointer-events-60fps" target="_blank">使用pointer-events:none实现60fps滚动</a> 。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">这就完了吗？没有，张鑫旭有一篇专门的文章，用来探讨&nbsp;pointer-events:&nbsp;<span class="expand-element"><span class="value">none 是否真的能够加速滚动性能，并提出了自己的质疑：</span></span></span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;"><span class="expand-element"><span class="value"><a href="http://www.zhangxinxu.com/wordpress/2014/01/pointer-events-none-avoiding-unnecessary-paints/" target="_blank">pointer-events:none提高页面滚动时候的绘制性能？</a></span></span></span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">结论见仁见智，使用&nbsp;pointer-events:&nbsp;<span class="expand-element"><span class="value">none 的场合要依据业务本身来定夺，拒绝拿来主义，多去源头看看，动手实践一番再做定夺。</span></span></span></p>
<p>&nbsp;</p>
<p><span style="font-family: verdana, geneva; font-size: 14px;"><span class="expand-element"><span class="value">其他参考文献（都是好文章，值得一读）：</span></span></span></p>
<ul>
<li><span style="font-size: 14px; font-family: verdana, geneva;"><a href="http://jinlong.github.io/2016/04/24/Debouncing-and-Throttling-Explained-Through-Examples/" target="_blank">实例解析防抖动（Debouncing）和节流阀（Throttling）</a></span></li>
<li><span style="font-size: 14px; font-family: verdana, geneva;"><a href="http://taobaofed.org/blog/2016/04/25/performance-composite/" target="_blank">无线性能优化：Composite</a></span></li>
<li><span style="font-size: 14px; font-family: verdana, geneva;"><a href="http://www.infoq.com/cn/articles/javascript-high-performance-animation-and-page-rendering" target="_blank">Javascript高性能动画与页面渲染</a></span></li>
<li><span style="font-size: 14px; font-family: verdana, geneva;"><a href="https://developers.google.com/web/fundamentals/performance/rendering/debounce-your-input-handlers?hl=zh-cn" target="_blank">Google Developers--渲染性能</a></span></li>
<li><span style="font-size: 14px; font-family: verdana, geneva;"><a href="http://melonh.com/sharing/slides.html?file=high_performance_animation#/2" target="_blank">Web高性能动画</a></span></li>
</ul>
<p>&nbsp;</p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">到此本文结束，如果还有什么疑问或者建议，可以多多交流，原创文章，文笔有限，才疏学浅，文中若有不正之处，万望告知。</span></p>
<p><span style="font-size: 14px; font-family: verdana, geneva;">如果本文对你有帮助，请点下推荐，写文章不容易。</span></p></div><div id="MySignature"></div>
<div class="clear"></div>
<div id="blog_post_info_block">
<div id="BlogPostCategory">分类: <a href="http://www.cnblogs.com/coco1s/category/621606.html">性能优化</a></div>
<div id="EntryTag">标签: <a href="http://www.cnblogs.com/coco1s/tag/%E6%BB%9A%E5%8A%A8%E4%BC%98%E5%8C%96/">滚动优化</a>, <a href="http://www.cnblogs.com/coco1s/tag/scroll%E4%BC%98%E5%8C%96/">scroll优化</a>, <a href="http://www.cnblogs.com/coco1s/tag/%E9%98%B2%E6%8A%96%E4%B8%8E%E8%8A%82%E6%B5%81/">防抖与节流</a>, <a href="http://www.cnblogs.com/coco1s/tag/debouncing/">debouncing</a>, <a href="http://www.cnblogs.com/coco1s/tag/Throttling/">Throttling</a>, <a href="http://www.cnblogs.com/coco1s/tag/RAF/">RAF</a>, <a href="http://www.cnblogs.com/coco1s/tag/requestAnimationFrame/">requestAnimationFrame</a>, <a href="http://www.cnblogs.com/coco1s/tag/pointer-events%3A%20none/">pointer-events: none</a></div>
<div id="blog_post_info"></div>
<div class="clear"></div>
<div id="post_next_prev"><a href="http://www.cnblogs.com/coco1s/p/5439619.html" class="p_n_p_prefix">« </a> 上一篇：<a href="http://www.cnblogs.com/coco1s/p/5439619.html" title="发布于2016-04-28 13:21">【Web动画】CSS3 3D 行星运转 &amp;&amp; 浏览器渲染原理</a><br></div>
</div>


		</div>
	</div>

	
</div><!--end: topics 文章、评论容器-->
</div><div id="blog-comments-placeholder"><div id="comments_pager_top"></div>
<br>
<div class="feedback_area_title">评论列表</div>
<div class="feedbackNoItems"></div>	

		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433484" class="layer">#1楼</a><a name="3433484" id="comment_anchor_3433484"></a>  <span class="comment_date">2016-05-17 20:53</span> <a id="a_comment_author_3433484" href="http://www.cnblogs.com/52cik/" target="_blank">楼教主</a> <a href="http://msg.cnblogs.com/send/%E6%A5%BC%E6%95%99%E4%B8%BB" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433484" class="blog_comment_body">6666，mark</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433484,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433484,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433484_avatar" style="display:none;">http://pic.cnblogs.com/face/477954/20130524160955.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433485" class="layer">#2楼</a><a name="3433485" id="comment_anchor_3433485"></a>  <span class="comment_date">2016-05-17 20:55</span> <a id="a_comment_author_3433485" href="http://home.cnblogs.com/u/754320/" target="_blank">_weirdo</a> <a href="http://msg.cnblogs.com/send/_weirdo" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433485" class="blog_comment_body">可以啊大胸弟</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433485,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433485,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433487" class="layer">#3楼</a><a name="3433487" id="comment_anchor_3433487"></a>  <span class="comment_date">2016-05-17 20:56</span> <a id="a_comment_author_3433487" href="http://home.cnblogs.com/u/737631/" target="_blank">一语留香</a> <a href="http://msg.cnblogs.com/send/%E4%B8%80%E8%AF%AD%E7%95%99%E9%A6%99" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433487" class="blog_comment_body">前排兹瓷co神。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433487,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433487,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433512" class="layer">#4楼</a><a name="3433512" id="comment_anchor_3433512"></a>  <span class="comment_date">2016-05-17 21:16</span> <a id="a_comment_author_3433512" href="http://home.cnblogs.com/u/919847/" target="_blank">Insxs.NET</a> <a href="http://msg.cnblogs.com/send/Insxs.NET" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433512" class="blog_comment_body">第一次听说防抖节流，涨姿势了。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433512,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433512,&#39;Bury&#39;,this)">反对(1)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433516" class="layer">#5楼</a><a name="3433516" id="comment_anchor_3433516"></a>  <span class="comment_date">2016-05-17 21:21</span> <a id="a_comment_author_3433516" href="http://home.cnblogs.com/u/920025/" target="_blank">PYL-beautiCode</a> <a href="http://msg.cnblogs.com/send/PYL-beautiCode" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433516" class="blog_comment_body">pointer-events: none 这个了解过没实用过。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433516,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433516,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433517" class="layer">#6楼</a><a name="3433517" id="comment_anchor_3433517"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2016-05-17 21:22</span> <a id="a_comment_author_3433517" href="http://www.cnblogs.com/coco1s/" target="_blank">ChokCoco</a> <a href="http://msg.cnblogs.com/send/ChokCoco" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433517" class="blog_comment_body"><a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433500" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3433500);">@</a>
业余草<br>加什么。qq么？</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433517,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433517,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433517_avatar" style="display:none;">http://pic.cnblogs.com/face/608782/20160411131806.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433520" class="layer">#7楼</a><a name="3433520" id="comment_anchor_3433520"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2016-05-17 21:22</span> <a id="a_comment_author_3433520" href="http://www.cnblogs.com/coco1s/" target="_blank">ChokCoco</a> <a href="http://msg.cnblogs.com/send/ChokCoco" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433520" class="blog_comment_body"><a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433516" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3433516);">@</a>
PYL-beautiCode<br>可以尝试用一下。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433520,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433520,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433520_avatar" style="display:none;">http://pic.cnblogs.com/face/608782/20160411131806.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433524" class="layer">#8楼</a><a name="3433524" id="comment_anchor_3433524"></a>  <span class="comment_date">2016-05-17 21:25</span> <a id="a_comment_author_3433524" href="http://home.cnblogs.com/u/919999/" target="_blank">BUG_Qusa</a> <a href="http://msg.cnblogs.com/send/BUG_Qusa" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433524" class="blog_comment_body">赞一个。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433524,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433524,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433547" class="layer">#9楼</a><a name="3433547" id="comment_anchor_3433547"></a>  <span class="comment_date">2016-05-17 22:08</span> <a id="a_comment_author_3433547" href="http://home.cnblogs.com/u/682736/" target="_blank">o麦田的守望者</a> <a href="http://msg.cnblogs.com/send/o%E9%BA%A6%E7%94%B0%E7%9A%84%E5%AE%88%E6%9C%9B%E8%80%85" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433547" class="blog_comment_body">内容很棒</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433547,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433547,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433556" class="layer">#10楼</a><a name="3433556" id="comment_anchor_3433556"></a>  <span class="comment_date">2016-05-17 22:21</span> <a id="a_comment_author_3433556" href="http://home.cnblogs.com/u/737551/" target="_blank">一路星光</a> <a href="http://msg.cnblogs.com/send/%E4%B8%80%E8%B7%AF%E6%98%9F%E5%85%89" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433556" class="blog_comment_body">好文。对我而言很有启发。。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433556,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433556,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433634" class="layer">#11楼</a><a name="3433634" id="comment_anchor_3433634"></a>  <span class="comment_date">2016-05-18 08:15</span> <a id="a_comment_author_3433634" href="http://www.cnblogs.com/cxwx/" target="_blank">LiangHu</a> <a href="http://msg.cnblogs.com/send/LiangHu" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433634" class="blog_comment_body">哎吆，不错吆。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433634,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433634,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433634_avatar" style="display:none;">http://pic.cnblogs.com/face/u58800.jpg</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433646" class="layer">#12楼</a><a name="3433646" id="comment_anchor_3433646"></a>  <span class="comment_date">2016-05-18 08:40</span> <a id="a_comment_author_3433646" href="http://www.cnblogs.com/cyclone77/" target="_blank">Cyclone77</a> <a href="http://msg.cnblogs.com/send/Cyclone77" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433646" class="blog_comment_body">感谢分享</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433646,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433646,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433646_avatar" style="display:none;">http://pic.cnblogs.com/face/438520/20160125165947.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433661" class="layer">#13楼</a><a name="3433661" id="comment_anchor_3433661"></a>  <span class="comment_date">2016-05-18 09:07</span> <a id="a_comment_author_3433661" href="http://www.cnblogs.com/canrz/" target="_blank">Canrz</a> <a href="http://msg.cnblogs.com/send/Canrz" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433661" class="blog_comment_body">技术不是差距，思考才是王道啊</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433661,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433661,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433661_avatar" style="display:none;">http://pic.cnblogs.com/face/581106/20131111145431.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433681" class="layer">#14楼</a><a name="3433681" id="comment_anchor_3433681"></a>  <span class="comment_date">2016-05-18 09:24</span> <a id="a_comment_author_3433681" href="http://www.cnblogs.com/ChengPuYuan/" target="_blank">Piero's</a> <a href="http://msg.cnblogs.com/send/Piero%26%2339%3Bs" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433681" class="blog_comment_body">大神，我还是不太理解你写的节流函数<br>你的节流函数的意思是不是说：<br>   滚动两次，等两次触发事件后，再次滚动的话，就会直接触发，是这么理解的吗<br>  但这样不是你说的不断渲染啊，比如我第一次滚动的话，时间没超过1000ms，那就是需要500ms后触发，会有500ms的停顿感吧<br> 希望大神赐教</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433681,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433681,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433681_avatar" style="display:none;">http://pic.cnblogs.com/face/u264015.jpg</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433708" class="layer">#15楼</a><a name="3433708" id="comment_anchor_3433708"></a>  <span class="comment_date">2016-05-18 09:39</span> <a id="a_comment_author_3433708" href="http://www.cnblogs.com/h-hq/" target="_blank">hoohack</a> <a href="http://msg.cnblogs.com/send/hoohack" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433708" class="blog_comment_body">好文！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433708,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433708,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433708_avatar" style="display:none;">http://pic.cnblogs.com/face/437647/20150928150818.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433737" class="layer">#16楼</a><a name="3433737" id="comment_anchor_3433737"></a>  <span class="comment_date">2016-05-18 10:00</span> <a id="a_comment_author_3433737" href="http://www.cnblogs.com/doublenet/" target="_blank">double Net</a> <a href="http://msg.cnblogs.com/send/double%20Net" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433737" class="blog_comment_body"><div class="cnblogs_Highlighter sh-gutter"><div><div id="highlighter_140826" class="syntaxhighlighter  css"><div class="toolbar"><span><a href="http://www.cnblogs.com/coco1s/p/5499469.html#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="css plain">pointer-events: </code><code class="css value">none</code></div></div></td></tr></tbody></table></div></div></div><br>这个让我眼前一亮啊</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433737,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433737,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433737_avatar" style="display:none;">http://pic.cnblogs.com/face/548549/20130716180147.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433756" class="layer">#17楼</a><a name="3433756" id="comment_anchor_3433756"></a>  <span class="comment_date">2016-05-18 10:09</span> <a id="a_comment_author_3433756" href="http://www.cnblogs.com/ThinkWang/" target="_blank">ThinkWang</a> <a href="http://msg.cnblogs.com/send/ThinkWang" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433756" class="blog_comment_body">好文。很有启发</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433756,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433756,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433756_avatar" style="display:none;">http://pic.cnblogs.com/face/u398528.jpg?id=28105100</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433765" class="layer">#18楼</a><a name="3433765" id="comment_anchor_3433765"></a>  <span class="comment_date">2016-05-18 10:13</span> <a id="a_comment_author_3433765" href="http://www.cnblogs.com/cymx/" target="_blank">初阳暮雪</a> <a href="http://msg.cnblogs.com/send/%E5%88%9D%E9%98%B3%E6%9A%AE%E9%9B%AA" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433765" class="blog_comment_body">受教了</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433765,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433765,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433765_avatar" style="display:none;">http://pic.cnblogs.com/face/568769/20130917205803.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433802" class="layer">#19楼</a><a name="3433802" id="comment_anchor_3433802"></a>  <span class="comment_date">2016-05-18 10:46</span> <a id="a_comment_author_3433802" href="http://www.cnblogs.com/gantt/" target="_blank">plusoft</a> <a href="http://msg.cnblogs.com/send/plusoft" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433802" class="blog_comment_body">大赞！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433802,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433802,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433808" class="layer">#20楼</a><a name="3433808" id="comment_anchor_3433808"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2016-05-18 10:51</span> <a id="a_comment_author_3433808" href="http://www.cnblogs.com/coco1s/" target="_blank">ChokCoco</a> <a href="http://msg.cnblogs.com/send/ChokCoco" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433808" class="blog_comment_body"><a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433681" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3433681);">@</a>
Piero's<br>节流的时候，你可以想象一下图片懒加载的情况。用户可能一直往下滑动鼠标，如果是防抖的话，只有在用户停止滑动鼠标之后，图片才会被加载出来，这显然是不对的，我们要的是图片随着用户的下滑不断被加载出来，这样就需要用到节流，节流的意思是即便用户一直往下滑没有停止，我们绑定的事件也可以以设定的频率（假设是500ms一次）触发。你可以拿上面的代码直接在控制台运行，然后滑动右侧滚动条就能明白了！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433808,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433808,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433808_avatar" style="display:none;">http://pic.cnblogs.com/face/608782/20160411131806.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433819" class="layer">#21楼</a><a name="3433819" id="comment_anchor_3433819"></a>  <span class="comment_date">2016-05-18 11:00</span> <a id="a_comment_author_3433819" href="http://www.cnblogs.com/lvdabao/" target="_blank">吕大豹</a> <a href="http://msg.cnblogs.com/send/%E5%90%95%E5%A4%A7%E8%B1%B9" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433819" class="blog_comment_body">对requestAnimationFrame的讲解好像有点问题。<br>首先，rAF并不是一个定时器，我们通常<b>递归调用</b>rAFt以达到连续repaint的目的。<br>rAF的本质是为我们提供了主动申请一帧的能力，以往的setInterval帧刷新都是浏览器根据你的操作来触发。而使用rAF让我们掌握了主动权。这就意味着使用rAF可以保证不丢帧，但是并不能保证帧率。所以你说的<br><fieldset class="comment_quote"><legend>引用</legend>通常来说，rAF 被调用的频率是每秒 60 次，也就是 1000/60 ，触发频率大概是 16.7ms</fieldset><br>这个也是不准确的。在rAF中进行复杂操作帧率会下降。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433819,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433819,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433819_avatar" style="display:none;">http://pic.cnblogs.com/face/520134/20160420115610.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433823" class="layer">#22楼</a><a name="3433823" id="comment_anchor_3433823"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2016-05-18 11:05</span> <a id="a_comment_author_3433823" href="http://www.cnblogs.com/coco1s/" target="_blank">ChokCoco</a> <a href="http://msg.cnblogs.com/send/ChokCoco" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433823" class="blog_comment_body"><a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433819" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3433819);">@</a>
吕大豹<br>是的。感谢提出。<br>如果每一次在 rAF 中有大量复杂操作，帧率会自动降低为30fps，所以在文章中我说通常而言是 60fps ，因为文章讲的是滚动事件，所以在这里是把它看成一个定时器，当然他不是定时器。不过好像确实这样说不是很妥当，我再改改。<br>rAF 更多的是用于动画制作替代 setInterval(func,1000/60) 更加精确的控制动画及保证动画的流畅性，确保动画不会掉帧。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433823,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433823,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433823_avatar" style="display:none;">http://pic.cnblogs.com/face/608782/20160411131806.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433871" class="layer">#23楼</a><a name="3433871" id="comment_anchor_3433871"></a>  <span class="comment_date">2016-05-18 12:01</span> <a id="a_comment_author_3433871" href="http://www.cnblogs.com/zichi/" target="_blank">韩子迟</a> <a href="http://msg.cnblogs.com/send/%E9%9F%A9%E5%AD%90%E8%BF%9F" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433871" class="blog_comment_body">顶了！co哥流弊啊，不像我只会写一些水文</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433871,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433871,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433871_avatar" style="display:none;">http://pic.cnblogs.com/face/675542/20150612173854.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433961" class="layer">#24楼</a><a name="3433961" id="comment_anchor_3433961"></a>  <span class="comment_date">2016-05-18 14:10</span> <a id="a_comment_author_3433961" href="http://www.cnblogs.com/jiangzm/" target="_blank">MichaelJ</a> <a href="http://msg.cnblogs.com/send/MichaelJ" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433961" class="blog_comment_body">mark</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433961,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433961,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433961_avatar" style="display:none;">http://pic.cnblogs.com/face/u324546.jpg?id=17110753</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433978" class="layer">#25楼</a><a name="3433978" id="comment_anchor_3433978"></a>  <span class="comment_date">2016-05-18 14:24</span> <a id="a_comment_author_3433978" href="http://www.cnblogs.com/Jolinson/" target="_blank">Aidou_dream</a> <a href="http://msg.cnblogs.com/send/Aidou_dream" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433978" class="blog_comment_body">mark，，，大胸弟，，，╭(￣m￣*)╮</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433978,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433978,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433978_avatar" style="display:none;">http://pic.cnblogs.com/face/449222/20130828115638.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433982" class="layer">#26楼</a><a name="3433982" id="comment_anchor_3433982"></a>[<span class="louzhu">楼主</span>]  <span class="comment_date">2016-05-18 14:30</span> <a id="a_comment_author_3433982" href="http://www.cnblogs.com/coco1s/" target="_blank">ChokCoco</a> <a href="http://msg.cnblogs.com/send/ChokCoco" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433982" class="blog_comment_body"><a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433871" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3433871);">@</a>
韩子迟<br>也是水文也是水文 =。=</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433982,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433982,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433982_avatar" style="display:none;">http://pic.cnblogs.com/face/608782/20160411131806.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433992" class="layer">#27楼</a><a name="3433992" id="comment_anchor_3433992"></a>  <span class="comment_date">2016-05-18 14:43</span> <a id="a_comment_author_3433992" href="http://www.cnblogs.com/batsing/" target="_blank">batsing</a> <a href="http://msg.cnblogs.com/send/batsing" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3433992" class="blog_comment_body">最后那个，似乎UC、QQ等手机浏览器默认都是这个样子的，正在滑动的时候所有都暂停了，包括GIF，滑完了才会执行</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3433992,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3433992,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3433992_avatar" style="display:none;">http://pic.cnblogs.com/face/681503/20141018114352.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3434021" class="layer">#28楼</a><a name="3434021" id="comment_anchor_3434021"></a>  <span class="comment_date">2016-05-18 15:06</span> <a id="a_comment_author_3434021" href="http://www.cnblogs.com/jtjds/" target="_blank">向婷风</a> <a href="http://msg.cnblogs.com/send/%E5%90%91%E5%A9%B7%E9%A3%8E" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3434021" class="blog_comment_body">写的很好。不错！</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3434021,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3434021,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3434021_avatar" style="display:none;">http://pic.cnblogs.com/face/905548/20160518171746.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3434081" class="layer">#29楼</a><a name="3434081" id="comment_anchor_3434081"></a>  <span class="comment_date">2016-05-18 15:52</span> <a id="a_comment_author_3434081" href="http://www.cnblogs.com/prolovecui/" target="_blank">Prolovecui</a> <a href="http://msg.cnblogs.com/send/Prolovecui" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3434081" class="blog_comment_body">666，必须赞啊</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3434081,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3434081,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3434081_avatar" style="display:none;">http://pic.cnblogs.com/face/501914/20130306220834.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3434266" class="layer">#30楼</a><a name="3434266" id="comment_anchor_3434266"></a>  <span class="comment_date">2016-05-18 19:38</span> <a id="a_comment_author_3434266" href="http://www.cnblogs.com/ruson/" target="_blank">ruson</a> <a href="http://msg.cnblogs.com/send/ruson" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3434266" class="blog_comment_body">研究的不错</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3434266,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3434266,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3434307" class="layer">#31楼</a><a name="3434307" id="comment_anchor_3434307"></a>  <span class="comment_date">2016-05-18 20:45</span> <a id="a_comment_author_3434307" href="http://www.cnblogs.com/shenyun/" target="_blank">沈赟</a> <a href="http://msg.cnblogs.com/send/%E6%B2%88%E8%B5%9F" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3434307" class="blog_comment_body">谢谢分享</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3434307,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3434307,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3434307_avatar" style="display:none;">http://pic.cnblogs.com/face/u30988.jpg</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3434497" class="layer">#32楼</a><a name="3434497" id="comment_anchor_3434497"></a>  <span class="comment_date">2016-05-19 09:02</span> <a id="a_comment_author_3434497" href="http://www.cnblogs.com/zichi/" target="_blank">韩子迟</a> <a href="http://msg.cnblogs.com/send/%E9%9F%A9%E5%AD%90%E8%BF%9F" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3434497" class="blog_comment_body"><a href="http://www.cnblogs.com/coco1s/p/5499469.html#3433982" title="查看所回复的评论" onclick="commentManager.renderComments(0,50,3433982);">@</a>
ChokCoco<br>关注co哥很久了，期待co哥继续出品好文</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3434497,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3434497,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3434497_avatar" style="display:none;">http://pic.cnblogs.com/face/675542/20150612173854.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3434505" class="layer">#33楼</a><a name="3434505" id="comment_anchor_3434505"></a>  <span class="comment_date">2016-05-19 09:05</span> <a id="a_comment_author_3434505" href="http://www.cnblogs.com/cnweiblog/" target="_blank">永远改不完的bug</a> <a href="http://msg.cnblogs.com/send/%E6%B0%B8%E8%BF%9C%E6%94%B9%E4%B8%8D%E5%AE%8C%E7%9A%84bug" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3434505" class="blog_comment_body">油料</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3434505,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3434505,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3434505_avatar" style="display:none;">http://pic.cnblogs.com/face/485668/20150622165729.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3434525" class="layer">#34楼</a><a name="3434525" id="comment_anchor_3434525"></a>  <span class="comment_date">2016-05-19 09:17</span> <a id="a_comment_author_3434525" href="http://www.cnblogs.com/tiankong2012/" target="_blank">#天空#</a> <a href="http://msg.cnblogs.com/send/%23%E5%A4%A9%E7%A9%BA%23" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3434525" class="blog_comment_body">谢谢分享</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3434525,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3434525,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3434588" class="layer">#35楼</a><a name="3434588" id="comment_anchor_3434588"></a>  <span class="comment_date">2016-05-19 10:01</span> <a id="a_comment_author_3434588" href="http://www.cnblogs.com/humin/" target="_blank">幻天芒</a> <a href="http://msg.cnblogs.com/send/%E5%B9%BB%E5%A4%A9%E8%8A%92" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3434588" class="blog_comment_body">常用防抖函数。。</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3434588,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3434588,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3434588_avatar" style="display:none;">http://pic.cnblogs.com/face/343299/20150320135757.png</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3435017" class="layer">#36楼</a><a name="3435017" id="comment_anchor_3435017"></a>  <span class="comment_date">2016-05-19 16:11</span> <a id="a_comment_author_3435017" href="http://www.cnblogs.com/index-html/" target="_blank">EtherDream</a> <a href="http://msg.cnblogs.com/send/EtherDream" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3435017" class="blog_comment_body">都是老姿势了，没提 addEventListener(fn,  {passive: true})   <br><br><a href="https://dom.spec.whatwg.org/#dictdef-addeventlisteneroptions" target="_blank">https://dom.spec.whatwg.org/#dictdef-addeventlisteneroptions</a></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3435017,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3435017,&#39;Bury&#39;,this)">反对(0)</a></div><span id="comment_3435017_avatar" style="display:none;">http://pic.cnblogs.com/face/u273626.bmp</span>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3435084" class="layer">#37楼</a><a name="3435084" id="comment_anchor_3435084"></a>  <span class="comment_date">2016-05-19 17:00</span> <a id="a_comment_author_3435084" href="http://www.cnblogs.com/tom-and-jerry/" target="_blank">jerry_0824</a> <a href="http://msg.cnblogs.com/send/jerry_0824" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3435084" class="blog_comment_body">~感谢分享~</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3435084,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3435084,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3435486" class="layer">#38楼</a><a name="3435486" id="comment_anchor_3435486"></a>  <span class="comment_date">2016-05-20 08:52</span> <a id="a_comment_author_3435486" href="http://www.cnblogs.com/tonyjude/" target="_blank">不曾流泪的鱼</a> <a href="http://msg.cnblogs.com/send/%E4%B8%8D%E6%9B%BE%E6%B5%81%E6%B3%AA%E7%9A%84%E9%B1%BC" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3435486" class="blog_comment_body">mark</div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3435486,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3435486,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	
		<div class="feedbackItem">
			<div class="feedbackListSubtitle">
				<div class="feedbackManage">
					&nbsp;&nbsp;<span class="comment_actions"></span>
				</div>
				<a href="http://www.cnblogs.com/coco1s/p/5499469.html#3435518" class="layer">#39楼</a><a name="3435518" id="comment_anchor_3435518"></a><span id="comment-maxId" style="display:none;">3435518</span><span id="comment-maxDate" style="display:none;">2016/5/20 9:20:06</span>  <span class="comment_date">2016-05-20 09:20</span> <a id="a_comment_author_3435518" href="http://home.cnblogs.com/u/80741/" target="_blank">trunks</a> <a href="http://msg.cnblogs.com/send/trunks" title="发送站内短消息" class="sendMsg2This">&nbsp;</a>
			</div>
			<div class="feedbackCon">
				<div id="comment_body_3435518" class="blog_comment_body"><a href="http://idiotwu.github.io/smooth-scrollbar/" target="_blank">http://idiotwu.github.io/smooth-scrollbar/</a></div><div class="comment_vote"><a href="javascript:void(0);" class="comment_digg" onclick="return voteComment(3435518,&#39;Digg&#39;,this)">支持(0)</a><a href="javascript:void(0);" class="comment_bury" onclick="return voteComment(3435518,&#39;Bury&#39;,this)">反对(0)</a></div>
			</div>
		</div>
	<div id="comments_pager_bottom"></div></div><script type="text/javascript">var commentManager = new blogCommentManager();commentManager.renderComments(0);</script>
<div id="comment_form" class="commentform">
  <div id="divCommentShow"></div>
<div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
<div id="opt_under_post"></div>
<div id="ad_c1" class="c_ad_block"></div>
<div id="ad_c2" class="c_ad_block"></div>
<div id="under_post_kb"><div class="itnews c_ad_block" id="kb_block"><b>最新知识库文章</b>:<br><div id="kb_recent"> ·  <a href="http://kb.cnblogs.com/page/543110/" target="_blank">架构漫谈（九）：理清技术、业务和架构的关系</a><br> ·  <a href="http://kb.cnblogs.com/page/542725/" target="_blank">架构漫谈（八）：从架构的角度看如何写好代码</a><br> ·  <a href="http://kb.cnblogs.com/page/542257/" target="_blank">架构漫谈（七）：不要空设架构师这个职位，给他实权</a><br> ·  <a href="http://kb.cnblogs.com/page/541740/" target="_blank">架构漫谈（六）：软件架构到底是要解决什么问题？</a><br> ·  <a href="http://kb.cnblogs.com/page/541188/" target="_blank">架构漫谈（五）：什么是软件</a><br></div>» <a href="http://kb.cnblogs.com/" target="_blank">更多知识库文章...</a></div></div>
<div id="HistoryToday" class="c_ad_block"></div>
</div>


	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器--><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		
<!--done-->
Copyright ©2016 ChokCoco
	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->


</body></html>