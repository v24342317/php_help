<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="StyleSheet" href="../css/develop_standard/layout.css" type="text/css" />
    <link rel="StyleSheet" href="../css/develop_standard/style.css" type="text/css" />
    <style type="text/css">
        .pun, .opn, .clo {
            color: #660;
        }
    </style>
    <title>PHP二维数组合并,根据某个key合并</title>
</head>
<body>
<section class="layout">
    <article  data-name="preface" class="book">
        <header>
            <h1>PHP二维数组合并,根据某个key合并</h1>
            <div class="description"></div>
        </header>
        <section class="content">

        
            <h2>数组</h2>

<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class=""><code><span class="pln">$arr1 = array(
    0 => array(
        'server_id' => 20,
        'arr1' => 'arr1',
        ),
    1 => array(
        'server_id' => 21,
        'arr1' => 'arr1',
        ),
    2 => array(
        'server_id' => 22,
        'arr1' => 'arr1',
        ),
    3 => array(
        'server_id' => 23,
        'arr1' => 'arr1',
        ),
    4 => array(
        'server_id' => 24,
        'arr1' => 'arr1',
        ),
    );

$arr2 = array(
    0 => array(
        'server_id' => 20,
        'arr2' => 'arr2',
        ),
    1 => array(
        'server_id' => 21,
        'arr2' => 'arr2',
        ),
    2 => array(
        'server_id' => 22,
        'arr2' => 'arr2',
        ),
    3 => array(
        'server_id' => 23,
        'arr2' => 'arr2',
        ),
    4 => array(
        'server_id' => 24,
        'arr2' => 'arr2',
        ),
    );
$arr3 = array(
    0 => array(
        'server_id' => 20,
        'arr3' => 'arr3',
        ),
    1 => array(
        'server_id' => 21,
        'arr3' => 'arr3',
        ),
    2 => array(
        'server_id' => 22,
        'arr3' => 'arr3',
        ),
    3 => array('server_id' => 23,
        'arr3' => 'arr3',
        ),
    4 => array(
        'server_id' => 24,
        'arr3' => 'arr3',
        ),
    );</span></code></li></ol></pre>

<p>简单的方式：</p>

<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class=""><code><span class="pln">$a = array_map("array_merge",$arr1,$arr2,$arr3,.....);</span></code></li></ol></pre>

<p>上边的要求每个数组都长度都一样，如果$arr1,$arr2 ...长度不一样，则使用下边的方法：</p>

<pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums"><li class=""><code><span class="pln">$a = array_map(null,$arr1,$arr2,$arr3，......);
foreach($a as &$val) {
    $val = call_user_func_array('array_merge',array_filter($val));
}
print_r($a);</span></code></li></ol></pre>

        </section>
        <footer>

        </footer>
    </article>


</section>
</body>
</html>