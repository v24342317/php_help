<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh" dir="ltr" lang="zh"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>structure:routing - 微擎指导手册</title>
<meta name="generator" content="DokuWiki">
<meta name="robots" content="index,follow">
<meta name="keywords" content="structure,routing">
<link rel="search" type="application/opensearchdescription+xml" href="http://www.we7.cc/manual/lib/exe/opensearch.php" title="微擎指导手册">
<link rel="start" href="http://www.we7.cc/manual/">
<link rel="contents" href="http://www.we7.cc/manual/structure:routing?do=index" title="网站地图">
<link rel="alternate" type="application/rss+xml" title="最近更改" href="http://www.we7.cc/manual/feed.php">
<link rel="alternate" type="application/rss+xml" title="当前命名空间" href="http://www.we7.cc/manual/feed.php?mode=list&amp;ns=structure">
<link rel="alternate" type="text/html" title="纯HTML" href="http://www.we7.cc/manual/_export/xhtml/structure:routing">
<link rel="canonical" href="http://www.we7.cc/manual/structure:routing">
<link rel="stylesheet" type="text/css" href="wq_structure_routing/css.css">
<script type="text/javascript">/*<![CDATA[*/var NS='structure';var JSINFO = {"id":"structure:routing","namespace":"structure"};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="wq_structure_routing/js.php"></script><style id="iris-css">.iris-picker{display:block;position:relative}.iris-picker,.iris-picker *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input+.iris-picker{margin-top:4px}.iris-error{background-color:#ffafaf}.iris-border{border-radius:3px;border:1px solid #aaa;width:200px;background-color:#fff}.iris-picker-inner{position:absolute;top:0;right:0;left:0;bottom:0}.iris-border .iris-picker-inner{top:10px;right:10px;left:10px;bottom:10px}.iris-picker .iris-square-inner{position:absolute;left:0;right:0;top:0;bottom:0}.iris-picker .iris-square,.iris-picker .iris-slider,.iris-picker .iris-square-inner,.iris-picker .iris-palette{border-radius:3px;box-shadow:inset 0 0 5px rgba(0,0,0,.4);height:100%;width:12.5%;float:left;margin-right:5%}.iris-picker .iris-square{width:76%;margin-right:10%;position:relative}.iris-picker .iris-square-inner{width:auto;margin:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-square-inner,.iris-ie-9 .iris-palette{box-shadow:none;border-radius:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-palette{outline:1px solid rgba(0,0,0,.1)}.iris-ie-lt9 .iris-square,.iris-ie-lt9 .iris-slider,.iris-ie-lt9 .iris-square-inner,.iris-ie-lt9 .iris-palette{outline:1px solid #aaa}.iris-ie-lt9 .iris-square .ui-slider-handle{outline:1px solid #aaa;background-color:#fff;-ms-filter:"alpha(Opacity=30)"}.iris-ie-lt9 .iris-square .iris-square-handle{background:0;border:3px solid #fff;-ms-filter:"alpha(Opacity=50)"}.iris-picker .iris-strip{margin-right:0;position:relative}.iris-picker .iris-strip .ui-slider-handle{position:absolute;background:0;margin:0;right:-3px;left:-3px;border:4px solid #aaa;border-width:4px 3px;width:auto;height:6px;border-radius:4px;box-shadow:0 1px 2px rgba(0,0,0,.2);opacity:.9;z-index:5;cursor:ns-resize}.iris-strip .ui-slider-handle:before{content:" ";position:absolute;left:-2px;right:-2px;top:-3px;bottom:-3px;border:2px solid #fff;border-radius:3px}.iris-picker .iris-slider-offset{position:absolute;top:11px;left:0;right:0;bottom:-3px;width:auto;height:auto;background:transparent;border:0;border-radius:0}.iris-picker .iris-square-handle{background:transparent;border:5px solid #aaa;border-radius:50%;border-color:rgba(128,128,128,.5);box-shadow:none;width:12px;height:12px;position:absolute;left:-10px;top:-10px;cursor:move;opacity:1;z-index:10}.iris-picker .ui-state-focus .iris-square-handle{opacity:.8}.iris-picker .iris-square-handle:hover{border-color:#999}.iris-picker .iris-square-value:focus .iris-square-handle{box-shadow:0 0 2px rgba(0,0,0,.75);opacity:.8}.iris-picker .iris-square-handle:hover::after{border-color:#fff}.iris-picker .iris-square-handle::after{position:absolute;bottom:-4px;right:-4px;left:-4px;top:-4px;border:3px solid #f9f9f9;border-color:rgba(255,255,255,.8);border-radius:50%;content:" "}.iris-picker .iris-square-value{width:8px;height:8px;position:absolute}.iris-ie-lt9 .iris-square-value,.iris-mozilla .iris-square-value{width:1px;height:1px}.iris-palette-container{position:absolute;bottom:0;left:0;margin:0;padding:0}.iris-border .iris-palette-container{left:10px;bottom:10px}.iris-picker .iris-palette{margin:0;cursor:pointer}.iris-square-handle,.ui-slider-handle{border:0;outline:0}</style>

<link rel="shortcut icon" href="http://www.we7.cc/manual/lib/tpl/vector/static/3rd/dokuwiki/favicon.ico">
<link rel="apple-touch-icon" href="http://www.we7.cc/manual/lib/tpl/vector/static/3rd/dokuwiki/apple-touch-icon.png">
<!--[if lte IE 8]><link rel="stylesheet" media="all" type="text/css" href="/manual/lib/tpl/vector/static/css/screen_iehacks.css" /><![endif]-->
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/manual/lib/tpl/vector/static/3rd/vector/csshover.htc")}</style><![endif]-->
<style class="firebugResetStyles" type="text/css" charset="utf-8">/* See license.txt for terms of usage */
/** reset styling **/
.firebugResetStyles {
    z-index: 2147483646 !important;
    top: 0 !important;
    left: 0 !important;
    display: block !important;
    border: 0 none !important;
    margin: 0 !important;
    padding: 0 !important;
    outline: 0 !important;
    min-width: 0 !important;
    max-width: none !important;
    min-height: 0 !important;
    max-height: none !important;
    position: fixed !important;
    transform: rotate(0deg) !important;
    transform-origin: 50% 50% !important;
    border-radius: 0 !important;
    box-shadow: none !important;
    background: transparent none !important;
    pointer-events: none !important;
    white-space: normal !important;
}
style.firebugResetStyles {
    display: none !important;
}

.firebugBlockBackgroundColor {
    background-color: transparent !important;
}

.firebugResetStyles:before, .firebugResetStyles:after {
    content: "" !important;
}
/**actual styling to be modified by firebug theme**/
.firebugCanvas {
    display: none !important;
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
.firebugLayoutBox {
    width: auto !important;
    position: static !important;
}

.firebugLayoutBoxOffset {
    opacity: 0.8 !important;
    position: fixed !important;
}

.firebugLayoutLine {
    opacity: 0.4 !important;
    background-color: #000000 !important;
}

.firebugLayoutLineLeft, .firebugLayoutLineRight {
    width: 1px !important;
    height: 100% !important;
}

.firebugLayoutLineTop, .firebugLayoutLineBottom {
    width: 100% !important;
    height: 1px !important;
}

.firebugLayoutLineTop {
    margin-top: -1px !important;
    border-top: 1px solid #999999 !important;
}

.firebugLayoutLineRight {
    border-right: 1px solid #999999 !important;
}

.firebugLayoutLineBottom {
    border-bottom: 1px solid #999999 !important;
}

.firebugLayoutLineLeft {
    margin-left: -1px !important;
    border-left: 1px solid #999999 !important;
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
.firebugLayoutBoxParent {
    border-top: 0 none !important;
    border-right: 1px dashed #E00 !important;
    border-bottom: 1px dashed #E00 !important;
    border-left: 0 none !important;
    position: fixed !important;
    width: auto !important;
}

.firebugRuler{
    position: absolute !important;
}

.firebugRulerH {
    top: -15px !important;
    left: 0 !important;
    width: 100% !important;
    height: 14px !important;
    background: url("data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%13%88%00%00%00%0E%08%02%00%00%00L%25a%0A%00%00%00%04gAMA%00%00%D6%D8%D4OX2%00%00%00%19tEXtSoftware%00Adobe%20ImageReadyq%C9e%3C%00%00%04%F8IDATx%DA%EC%DD%D1n%E2%3A%00E%D1%80%F8%FF%EF%E2%AF2%95%D0D4%0E%C1%14%B0%8Fa-%E9%3E%CC%9C%87n%B9%81%A6W0%1C%A6i%9A%E7y%0As8%1CT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AATE9%FE%FCw%3E%9F%AF%2B%2F%BA%97%FDT%1D~K(%5C%9D%D5%EA%1B%5C%86%B5%A9%BDU%B5y%80%ED%AB*%03%FAV9%AB%E1%CEj%E7%82%EF%FB%18%BC%AEJ8%AB%FA'%D2%BEU9%D7U%ECc0%E1%A2r%5DynwVi%CFW%7F%BB%17%7Dy%EACU%CD%0E%F0%FA%3BX%FEbV%FEM%9B%2B%AD%BE%AA%E5%95v%AB%AA%E3E5%DCu%15rV9%07%B5%7F%B5w%FCm%BA%BE%AA%FBY%3D%14%F0%EE%C7%60%0EU%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5JU%88%D3%F5%1F%AE%DF%3B%1B%F2%3E%DAUCNa%F92%D02%AC%7Dm%F9%3A%D4%F2%8B6%AE*%BF%5C%C2Ym~9g5%D0Y%95%17%7C%C8c%B0%7C%18%26%9CU%CD%13i%F7%AA%90%B3Z%7D%95%B4%C7%60%E6E%B5%BC%05%B4%FBY%95U%9E%DB%FD%1C%FC%E0%9F%83%7F%BE%17%7DkjMU%E3%03%AC%7CWj%DF%83%9An%BCG%AE%F1%95%96yQ%0Dq%5Dy%00%3Et%B5'%FC6%5DS%95pV%95%01%81%FF'%07%00%00%00%00%00%00%00%00%00%F8x%C7%F0%BE%9COp%5D%C9%7C%AD%E7%E6%EBV%FB%1E%E0(%07%E5%AC%C6%3A%ABi%9C%8F%C6%0E9%AB%C0'%D2%8E%9F%F99%D0E%B5%99%14%F5%0D%CD%7F%24%C6%DEH%B8%E9rV%DFs%DB%D0%F7%00k%FE%1D%84%84%83J%B8%E3%BA%FB%EF%20%84%1C%D7%AD%B0%8E%D7U%C8Y%05%1E%D4t%EF%AD%95Q%BF8w%BF%E9%0A%BF%EB%03%00%00%00%00%00%00%00%00%00%B8vJ%8E%BB%F5%B1u%8Cx%80%E1o%5E%CA9%AB%CB%CB%8E%03%DF%1D%B7T%25%9C%D5(%EFJM8%AB%CC'%D2%B2*%A4s%E7c6%FB%3E%FA%A2%1E%80~%0E%3E%DA%10x%5D%95Uig%15u%15%ED%7C%14%B6%87%A1%3B%FCo8%A8%D8o%D3%ADO%01%EDx%83%1A~%1B%9FpP%A3%DC%C6'%9C%95gK%00%00%00%00%00%00%00%00%00%20%D9%C9%11%D0%C0%40%AF%3F%EE%EE%92%94%D6%16X%B5%BCMH%15%2F%BF%D4%A7%C87%F1%8E%F2%81%AE%AAvzr%DA2%ABV%17%7C%E63%83%E7I%DC%C6%0Bs%1B%EF6%1E%00%00%00%00%00%00%00%00%00%80cr%9CW%FF%7F%C6%01%0E%F1%CE%A5%84%B3%CA%BC%E0%CB%AA%84%CE%F9%BF)%EC%13%08WU%AE%AB%B1%AE%2BO%EC%8E%CBYe%FE%8CN%ABr%5Dy%60~%CFA%0D%F4%AE%D4%BE%C75%CA%EDVB%EA(%B7%F1%09g%E5%D9%12%00%00%00%00%00%00%00%00%00H%F6%EB%13S%E7y%5E%5E%FB%98%F0%22%D1%B2'%A7%F0%92%B1%BC%24z3%AC%7Dm%60%D5%92%B4%7CEUO%5E%F0%AA*%3BU%B9%AE%3E%A0j%94%07%A0%C7%A0%AB%FD%B5%3F%A0%F7%03T%3Dy%D7%F7%D6%D4%C0%AAU%D2%E6%DFt%3F%A8%CC%AA%F2%86%B9%D7%F5%1F%18%E6%01%F8%CC%D5%9E%F0%F3z%88%AA%90%EF%20%00%00%00%00%00%00%00%00%00%C0%A6%D3%EA%CFi%AFb%2C%7BB%0A%2B%C3%1A%D7%06V%D5%07%A8r%5D%3D%D9%A6%CAu%F5%25%CF%A2%99%97zNX%60%95%AB%5DUZ%D5%FBR%03%AB%1C%D4k%9F%3F%BB%5C%FF%81a%AE%AB'%7F%F3%EA%FE%F3z%94%AA%D8%DF%5B%01%00%00%00%00%00%00%00%00%00%8E%FB%F3%F2%B1%1B%8DWU%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*UiU%C7%BBe%E7%F3%B9%CB%AAJ%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5J%95*U%AAT%A9R%A5*%AAj%FD%C6%D4%5Eo%90%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5%86%AF%1B%9F%98%DA%EBm%BBV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%ADV%AB%D5j%B5Z%AD%D6%E4%F58%01%00%00%00%00%00%00%00%00%00%00%00%00%00%40%85%7F%02%0C%008%C2%D0H%16j%8FX%00%00%00%00IEND%AEB%60%82") repeat-x !important;
    border-top: 1px solid #BBBBBB !important;
    border-right: 1px dashed #BBBBBB !important;
    border-bottom: 1px solid #000000 !important;
}

.firebugRulerV {
    top: 0 !important;
    left: -15px !important;
    width: 14px !important;
    height: 100% !important;
    background: url("data:image/png,%89PNG%0D%0A%1A%0A%00%00%00%0DIHDR%00%00%00%0E%00%00%13%88%08%02%00%00%00%0E%F5%CB%10%00%00%00%04gAMA%00%00%D6%D8%D4OX2%00%00%00%19tEXtSoftware%00Adobe%20ImageReadyq%C9e%3C%00%00%06~IDATx%DA%EC%DD%D1v%A20%14%40Qt%F1%FF%FF%E4%97%D9%07%3BT%19%92%DC%40(%90%EEy%9A5%CB%B6%E8%F6%9Ac%A4%CC0%84%FF%DC%9E%CF%E7%E3%F1%88%DE4%F8%5D%C7%9F%2F%BA%DD%5E%7FI%7D%F18%DDn%BA%C5%FB%DF%97%BFk%F2%10%FF%FD%B4%F2M%A7%FB%FD%FD%B3%22%07p%8F%3F%AE%E3%F4S%8A%8F%40%EEq%9D%BE8D%F0%0EY%A1Uq%B7%EA%1F%81%88V%E8X%3F%B4%CEy%B7h%D1%A2E%EBohU%FC%D9%AF2fO%8BBeD%BE%F7X%0C%97%A4%D6b7%2Ck%A5%12%E3%9B%60v%B7r%C7%1AI%8C%BD%2B%23r%00c0%B2v%9B%AD%CA%26%0C%1Ek%05A%FD%93%D0%2B%A1u%8B%16-%95q%5Ce%DCSO%8E%E4M%23%8B%F7%C2%FE%40%BB%BD%8C%FC%8A%B5V%EBu%40%F9%3B%A72%FA%AE%8C%D4%01%CC%B5%DA%13%9CB%AB%E2I%18%24%B0n%A9%0CZ*Ce%9C%A22%8E%D8NJ%1E%EB%FF%8F%AE%CAP%19*%C3%BAEKe%AC%D1%AAX%8C*%DEH%8F%C5W%A1e%AD%D4%B7%5C%5B%19%C5%DB%0D%EF%9F%19%1D%7B%5E%86%BD%0C%95%A12%AC%5B*%83%96%CAP%19%F62T%86%CAP%19*%83%96%CA%B8Xe%BC%FE)T%19%A1%17xg%7F%DA%CBP%19*%C3%BA%A52T%86%CAP%19%F62T%86%CA%B0n%A9%0CZ%1DV%C6%3D%F3%FCH%DE%B4%B8~%7F%5CZc%F1%D6%1F%AF%84%F9%0F6%E6%EBVt9%0E~%BEr%AF%23%B0%97%A12T%86%CAP%19%B4T%86%CA%B8Re%D8%CBP%19*%C3%BA%A52huX%19%AE%CA%E5%BC%0C%7B%19*CeX%B7h%A9%0C%95%E1%BC%0C%7B%19*CeX%B7T%06%AD%CB%5E%95%2B%BF.%8F%C5%97%D5%E4%7B%EE%82%D6%FB%CF-%9C%FD%B9%CF%3By%7B%19%F62T%86%CA%B0n%D1R%19*%A3%D3%CA%B0%97%A12T%86uKe%D0%EA%B02*%3F1%99%5DB%2B%A4%B5%F8%3A%7C%BA%2B%8Co%7D%5C%EDe%A8%0C%95a%DDR%19%B4T%C66%82fA%B2%ED%DA%9FC%FC%17GZ%06%C9%E1%B3%E5%2C%1A%9FoiB%EB%96%CA%A0%D5qe4%7B%7D%FD%85%F7%5B%ED_%E0s%07%F0k%951%ECr%0D%B5C%D7-g%D1%A8%0C%EB%96%CA%A0%A52T%C6)*%C3%5E%86%CAP%19%D6-%95A%EB*%95q%F8%BB%E3%F9%AB%F6%E21%ACZ%B7%22%B7%9B%3F%02%85%CB%A2%5B%B7%BA%5E%B7%9C%97%E1%BC%0C%EB%16-%95%A12z%AC%0C%BFc%A22T%86uKe%D0%EA%B02V%DD%AD%8A%2B%8CWhe%5E%AF%CF%F5%3B%26%CE%CBh%5C%19%CE%CB%B0%F3%A4%095%A1%CAP%19*Ce%A8%0C%3BO*Ce%A8%0C%95%A12%3A%AD%8C%0A%82%7B%F0v%1F%2FD%A9%5B%9F%EE%EA%26%AF%03%CA%DF9%7B%19*Ce%A8%0C%95%A12T%86%CA%B8Ze%D8%CBP%19*Ce%A8%0C%95%D1ae%EC%F7%89I%E1%B4%D7M%D7P%8BjU%5C%BB%3E%F2%20%D8%CBP%19*Ce%A8%0C%95%A12T%C6%D5*%C3%5E%86%CAP%19*Ce%B4O%07%7B%F0W%7Bw%1C%7C%1A%8C%B3%3B%D1%EE%AA%5C%D6-%EBV%83%80%5E%D0%CA%10%5CU%2BD%E07YU%86%CAP%19*%E3%9A%95%91%D9%A0%C8%AD%5B%EDv%9E%82%FFKOee%E4%8FUe%A8%0C%95%A12T%C6%1F%A9%8C%C8%3D%5B%A5%15%FD%14%22r%E7B%9F%17l%F8%BF%ED%EAf%2B%7F%CF%ECe%D8%CBP%19*Ce%A8%0C%95%E1%93~%7B%19%F62T%86%CAP%19*Ce%A8%0C%E7%13%DA%CBP%19*Ce%A8%0CZf%8B%16-Z%B4h%D1R%19f%8B%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1%A2%A52%CC%16-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2EKe%98-Z%B4h%D1%A2EKe%D02%5B%B4h%D1%A2EKe%D02%5B%B4h%D1%A2E%8B%96%CA0%5B%B4h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%16-%95a%B6h%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-Z*%C3l%D1%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z%B4T%86%D9%A2E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4h%A9%0C%B3E%8B%16-Z%B4h%A9%0CZf%8B%16-Z%B4h%A9%0CZf%8B%16-Z%B4h%D1R%19f%8B%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1%A2%A52%CC%16-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2EKe%98-Z%B4h%D1%A2EKe%D02%5B%B4h%D1%A2EKe%D02%5B%B4h%D1%A2E%8B%96%CA0%5B%B4h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%16-%95a%B6h%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-Z*%C3l%D1%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z%B4T%86%D9%A2E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4h%A9%0C%B3E%8B%16-Z%B4h%A9%0CZf%8B%16-Z%B4h%A9%0CZf%8B%16-Z%B4h%D1R%19f%8B%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1R%19%B4%CC%16-Z%B4h%D1%A2%A52%CC%16-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2%A52h%99-Z%B4h%D1%A2EKe%98-Z%B4h%D1%A2EKe%D02%5B%B4h%D1%A2EKe%D02%5B%B4h%D1%A2E%8B%96%CA0%5B%B4h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%96%CA%A0e%B6h%D1%A2E%8B%16-%95a%B6h%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-%95A%CBl%D1%A2E%8B%16-Z*%C3l%D1%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z*%83%96%D9%A2E%8B%16-Z%B4T%86%D9%A2E%8B%16-Z%B4T%06-%B3E%8B%16-Z%B4%AE%A4%F5%25%C0%00%DE%BF%5C'%0F%DA%B8q%00%00%00%00IEND%AEB%60%82") repeat-y !important;
    border-left: 1px solid #BBBBBB !important;
    border-right: 1px solid #000000 !important;
    border-bottom: 1px dashed #BBBBBB !important;
}

.overflowRulerX > .firebugRulerV {
    left: 0 !important;
}

.overflowRulerY > .firebugRulerH {
    top: 0 !important;
}

/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * */
.fbProxyElement {
    position: fixed !important;
    pointer-events: auto !important;
}
</style></head>
<body class="skin-vector">
<div id="page-container">
  <!-- start panel/sidebar --><!-- end panel/sidebar -->

<!-- start div id=content -->
<div id="content">
  <a id="top" name="top"></a>
  <a id="dokuwiki__top" name="dokuwiki__top"></a>

  <!-- start div id=right-navigation -->
  <div id="right-navigation">
    <div class="vectorTabs" id="p-views">
      <ul>
        <li class="selected" id="ca-view"><a href="/manual/dev:js:builtin"><span>阅读</span></a></li>
      </ul>
    </div>
	 
  <div id="p-personal">
    <ul>
      <li id="pt-login"><a rel="nofollow" href="/manual/dev:js:builtin?do=login">登录</a></li>
    </ul>
  </div>
  </div>
  <!-- end div id=right-navigation -->

  <!-- start main content area -->
  
  <!-- start div id bodyContent -->
  <div class="dokuwiki" id="bodyContent">
    <!-- start rendered wiki content -->
    <!-- TOC START -->
<div id="dw__toc">
<span>目录 <span onclick="jQuery('#dw__toc div').toggle();">[隐藏]</span></span>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#微擎-js-库">微擎 js 库</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#utiljs">1. util.js</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#生成资源链接">生成资源链接</a></div></li>
<li class="level3"><div class="li"><a href="#剪贴板工具">剪贴板工具</a></div></li>
<li class="level3"><div class="li"><a href="#颜色选择器">颜色选择器</a></div></li>
<li class="level3"><div class="li"><a href="#loading-蒙版">loading 蒙版</a></div></li>
<li class="level3"><div class="li"><a href="#加载富文本编辑器">加载富文本编辑器</a></div></li>
<li class="level3"><div class="li"><a href="#表情选择器">表情选择器</a></div></li>
<li class="level3"><div class="li"><a href="#emoji-表情">emoji 表情</a></div></li>
<li class="level3"><div class="li"><a href="#自定义模态对话框">自定义模态对话框</a></div></li>
<li class="level3"><div class="li"><a href="#模态消息提示框">模态消息提示框</a></div></li>
<li class="level3"><div class="li"><a href="#经纬度地理位置选择器">经纬度地理位置选择器</a></div></li>
<li class="level3"><div class="li"><a href="#系统图标选择器">系统图标选择器</a></div></li>
<li class="level3"><div class="li"><a href="#系统链接选择器">系统链接选择器</a></div></li>
<li class="level3"><div class="li"><a href="#web端图片上传">Web端图片上传</a></div></li>
<li class="level3"><div class="li"><a href="#app端图片上传">App端图片上传</a></div></li>
<li class="level3"><div class="li"><a href="#多图上传">多图上传</a></div></li>
<li class="level3"><div class="li"><a href="#音频文件选择或上传">音频文件选择或上传</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#bizjs-业务工具模块">2. biz.js  业务工具模块</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#用户选择">用户选择</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#districtjs">3. district.js</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#省市县-select-标签组成的对象">省市县 select 标签组成的对象</a></div></li>
</ul>
</li>
<li class="level2"><div class="li"><a href="#industryjs">4. industry.js</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#行业二级联动">行业二级联动</a></div></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 id="微擎-js-库" class="sectionedit1">微擎 js 库</h1>
<div class="level1">

</div>

<h2 id="utiljs" class="sectionedit2">1. util.js</h2>
<div class="level2">

</div>

<h3 id="生成资源链接" class="sectionedit3">生成资源链接</h3>
<div class="level3">
<pre class="code javascript">util.<span class="me1">tomedia</span><span class="br0">(</span>src<span class="br0">)</span><span class="sy0">;</span></pre>

<p>
在 javascript 代码中, 将微擎资源路径转换为链接, 你可以传入
</p>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit4"><table class="inline">
	<tbody><tr class="row0">
		<th rowspan="4" class="col0">src </th><td class="col1">资源绝对路径 </td><td class="col2">eg: '<a rel="nofollow" title="http://pro/attachment/images/181/2014/10/bqUB4xq6a3x14XwGwH4xxacx34G3kv.jpg" class="urlextern" href="http://pro/attachment/images/181/2014/10/bqUB4xq6a3x14XwGwH4xxacx34G3kv.jpg">http://pro/attachment/images/181/2014/10/bqUB4xq6a3x14XwGwH4xxacx34G3kv.jpg</a>' </td>
	</tr>
	<tr class="row1">
		<td class="col0">微擎系统标准附件路径 </td><td class="col1">eg: 'images/181/2014/10/bqUB4xq6a3x14XwGwH4xxacx34G3kv.jpg' </td>
	</tr>
	<tr class="row2">
		<td class="col0">模块中资源相对路径 </td><td class="col1">eg: './addons/shopping/images/image1.png' </td>
	</tr>
	<tr class="row3">
		<td class="col0">主系统资源相对路径 </td><td class="col1">eg: './resource/images/banner-bg.png' </td>
	</tr>
</tbody></table></div>
<blockquote><div class="no">
<blockquote><div class="no">
 返回值</div></blockquote>
</div></blockquote>
<div class="table sectionedit5"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0">string </th><td class="col1">微擎系统可识别的资源链接 </td>
	</tr>
</tbody></table></div>
<blockquote><div class="no">
<blockquote><div class="no">
 示例</div></blockquote>
</div></blockquote>
<pre class="code html4strict"><span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">"text/javascript"</span>&gt;</span>
require(['jquery', 'util'], function($, util){
	$(function(){
		// 1. 资源绝对路径
		// $src = 'http://pro/attachment/images/181/2014/10/bqUB4xq6a3x14XwGwH4xxacx34G3kv.jpg';
&nbsp;
		// 2. 微擎系统标准附件路径
		// $src = 'images/181/2014/10/bqUB4xq6a3x14XwGwH4xxacx34G3kv.jpg';
&nbsp;
		// 3. 模块中资源相对路径
		// $src = './addons/shopping/images/image1.png';
&nbsp;
		// 4. 主系统资源相对路径
		$src = './resource/images/banner-bg.png';
&nbsp;
		$('#img').attr('src', util.tomedia($src));
	});
});
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
&nbsp;
<span class="sc2">&lt;<a href="http://december.com/html/4/element/img.html"><span class="kw2">img</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"img"</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">""</span> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">"max-width: 80px; max-height: 80px;"</span>&gt;</span></pre>

</div>

<h3 id="剪贴板工具" class="sectionedit6">剪贴板工具</h3>
<div class="level3">
<pre class="code javascript">util.<span class="me1">clip</span><span class="br0">(</span>elm<span class="sy0">,</span> str<span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit7"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0">elm </th><td class="col1">object </td><td class="col2">“复制成功”后, 提示信息将出现在此 DOM 对象之后 </td>
	</tr>
	<tr class="row1">
		<th class="col0">str </th><td class="col1">string </td><td class="col2">要复制到剪贴板的内容。</td>
	</tr>
</tbody></table></div>
<blockquote><div class="no">
<blockquote><div class="no">
 示例</div></blockquote>
</div></blockquote>
<pre class="code html4strict"><span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">"text/javascript"</span>&gt;</span>
require(['jquery', 'util'], function($, util){
	$(function(){
		util.clip($('#needCopy')[0], $('#needCopy').text());
	});
});
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
&nbsp;
<span class="sc2">&lt;<a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"needCopy"</span> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">"javascript:"</span>&gt;</span>点击复制我吧<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a>&gt;</span></pre>

<p>
图示
</p>

<p>
<img alt="" class="media" src="weiqing/util_clip.jpg">
</p>

</div>

<h3 id="颜色选择器" class="sectionedit8">颜色选择器</h3>
<div class="level3">
<pre class="code javascript">util.<span class="me1">colorpicker</span><span class="br0">(</span> elm<span class="sy0">,</span> callback<span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit9"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign">ele     </th><td class="col1 leftalign">object   </td><td class="col2">dom对象 </td>
	</tr>
	<tr class="row1">
		<th class="col0">callbck </th><td class="col1">function </td><td class="col2">回调方法的参数: <strong>color</strong> &mdash;选择的HTML颜色代码<pre class="code javascript"><span class="kw1">var</span> callback <span class="sy0">=</span> <span class="kw1">function</span><span class="br0">(</span>color<span class="br0">)</span><span class="br0">{</span> 
    <span class="co1">// color: toString(); 十六进制颜色代码.</span>
    console.<span class="me1">log</span><span class="br0">(</span>color.<span class="me1">toString</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
<span class="br0">}</span></pre>
</td>
	</tr>
</tbody></table></div>

</div>

<h3 id="loading-蒙版" class="sectionedit10">loading 蒙版</h3>
<div class="level3">
<pre class="code javascript">util.<span class="me1">loading</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
util.<span class="me1">loaded</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 示例</div></blockquote>
</div></blockquote>
<pre class="code javascript"><span class="sy0">&lt;</span>script type<span class="sy0">=</span><span class="st0">"text/javascript"</span><span class="sy0">&gt;</span>
require<span class="br0">(</span><span class="br0">[</span><span class="st0">'jquery'</span><span class="sy0">,</span> <span class="st0">'util'</span><span class="br0">]</span><span class="sy0">,</span> <span class="kw1">function</span><span class="br0">(</span>$<span class="sy0">,</span> util<span class="br0">)</span><span class="br0">{</span>
	$<span class="br0">(</span><span class="kw1">function</span><span class="br0">(</span><span class="br0">)</span><span class="br0">{</span>
&nbsp;
		<span class="co1">// 显示 loading 蒙版</span>
		util.<span class="me1">loading</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
		<span class="co1">// 1秒后 loading 蒙版自动隐藏</span>
		setTimeout<span class="br0">(</span><span class="kw1">function</span><span class="br0">(</span><span class="br0">)</span><span class="br0">{</span>util.<span class="me1">loaded</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span><span class="br0">}</span><span class="sy0">,</span> <span class="nu0">1000</span><span class="br0">)</span><span class="sy0">;</span>
&nbsp;
	<span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span>
<span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span>
<span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 图示</div></blockquote>
</div></blockquote>

<p>
<img alt="" class="media" src="weiqing/util_loading.jpg">
</p>

</div>

<h3 id="加载富文本编辑器" class="sectionedit11">加载富文本编辑器</h3>
<div class="level3">
<pre class="code javascript">util.<span class="me1">editor</span><span class="br0">(</span> elm<span class="sy0">,</span> callback<span class="br0">)</span><span class="sy0">;</span></pre>

<p>
参数：
</p>
<pre class="code">domElement： 输入框或文本区域
editor：  渲染后的富文本编辑器。</pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit12"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign">ele     </th><td class="col1 leftalign">object   </td><td class="col2">输入框或文本区域(dom对象) </td>
	</tr>
	<tr class="row1">
		<th class="col0">callbck </th><td class="col1">function </td><td class="col2">回调方法的参数: <pre class="code javascript"><span class="kw1">var</span> callback <span class="sy0">=</span> <span class="kw1">function</span><span class="br0">(</span>ele<span class="sy0">,</span> edit<span class="br0">)</span><span class="br0">{</span> <span class="br0">}</span></pre>
</td>
	</tr>
</tbody></table></div>
<blockquote><div class="no">
<blockquote><div class="no">
 示例</div></blockquote>
</div></blockquote>
<pre class="code html4strict"><span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
require(['jquery','util'], function($, util){
	$(function(){
		var editor = util.editor($('#remark')[0]);
&nbsp;
		$('#btn1').click(function(){
			alert(editor.getContent());
		});
	});
});
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
&nbsp;
<span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a> <span class="kw3">method</span><span class="sy0">=</span><span class="st0">"post"</span> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">""</span> <span class="kw3">enctype</span><span class="sy0">=</span><span class="st0">"multipart/form-data"</span> &gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/textarea.html"><span class="kw2">textarea</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"remark"</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">"remark"</span>&gt;&lt;<a href="http://december.com/html/4/element/p.html"><span class="kw2">p</span></a>&gt;</span>ab c 12 3 呵<span class="sc2">&lt;<a href="http://december.com/html/4/element/strong.html"><span class="kw2">strong</span></a>&gt;</span>呵<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/strong.html"><span class="kw2">strong</span></a>&gt;&lt;<a href="http://december.com/html/4/element/p.html"><span class="kw2">p</span></a>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/textarea.html"><span class="kw2">textarea</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"btn1"</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">"button"</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">"点击显示 remark 内容"</span>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a>&gt;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 图示</div></blockquote>
</div></blockquote>

<p>
<img alt="" class="media" src="weiqing/js_util_editor.jpg">
</p>

</div>

<h3 id="表情选择器" class="sectionedit13">表情选择器</h3>
<div class="level3">
<pre class="code javascript">util.<span class="me1">emotion</span><span class="br0">(</span>elm<span class="sy0">,</span> target<span class="sy0">,</span> callback<span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit14"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign">ele      </th><td class="col1 leftalign">object   </td><td class="col2">DOM 对象,此对象点击后显示表情选择器 </td>
	</tr>
	<tr class="row1">
		<th class="col0 leftalign">target   </th><td class="col1 leftalign">object   </td><td class="col2">表情代码要插入的表单对象 </td>
	</tr>
	<tr class="row2">
		<th class="col0">callback </th><td class="col1">function </td><td class="col2">回调函数<br>
<pre class="code php"><span class="kw2">var</span> callback <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">(</span>emotion_code<span class="sy0">,</span> ele<span class="sy0">,</span> target<span class="br0">)</span><span class="br0">{</span>
    <span class="co1">// emotion_code : 本次选择的表情代码</span>
    <span class="co1">// ele </span>
    <span class="co1">// target</span>
<span class="br0">}</span></pre>
</td>
	</tr>
</tbody></table></div>
<blockquote><div class="no">
<blockquote><div class="no">
 示例</div></blockquote>
</div></blockquote>
<pre class="code html4strict"><span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
require(['jquery','util'], function($, util){
	$(function(){
		util.emotion($('#emotion'), $('#reply'));
	});
});
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
&nbsp;
<span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a> <span class="kw3">method</span><span class="sy0">=</span><span class="st0">"post"</span> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">""</span> <span class="kw3">enctype</span><span class="sy0">=</span><span class="st0">"multipart/form-data"</span> &gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">"text"</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">"reply"</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"reply"</span>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">"javascript:"</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"emotion"</span>&gt;</span>表情<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a>&gt;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 图示</div></blockquote>
</div></blockquote>

<p>
<img alt="" class="media" src="weiqing/js_util_emotion.jpg">
</p>

</div>

<h3 id="emoji-表情" class="sectionedit15">emoji 表情</h3>
<div class="level3">
<pre class="code javascript">util.<span class="me1">emojiBrowser</span><span class="br0">(</span> callback <span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit16"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0">callback </th><td class="col1">function </td><td class="col2">回调函数<br>
<pre class="code javascript"><span class="kw1">var</span> callback <span class="sy0">=</span> <span class="kw1">function</span><span class="br0">(</span> emoji <span class="br0">)</span> <span class="br0">{</span> 
&nbsp;
<span class="br0">}</span></pre>
</td>
	</tr>
</tbody></table></div>
<blockquote><div class="no">
<blockquote><div class="no">
 示例</div></blockquote>
</div></blockquote>
<pre class="code html4strict"><span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
require(['jquery','util'], function($, util){
	$(function(){
		$('#btn').click(function(){
			util.emojiBrowser(function(emoji){
&nbsp;
				var title = emoji[0].title;
				var text = emoji[0].text;
				var html = emoji.find('div').html();
&nbsp;
				$('#emoj').html(title+'; '+text+'; '+html);
&nbsp;
				$('#btn').hide();
			});
		});
	});
});
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
&nbsp;
&nbsp;
<span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a> <span class="kw3">method</span><span class="sy0">=</span><span class="st0">"post"</span> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">""</span> <span class="kw3">enctype</span><span class="sy0">=</span><span class="st0">"multipart/form-data"</span> &gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/label.html"><span class="kw2">label</span></a>&gt;</span>emoj: <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/label.html"><span class="kw2">label</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">"javascript:"</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"btn"</span>&gt;</span>选取emoji<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/span.html"><span class="kw2">span</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"emoj"</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/span.html"><span class="kw2">span</span></a>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a>&gt;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 图示</div></blockquote>
</div></blockquote>

<p>
选取前
</p>

<p>
<img alt="" class="media" src="weiqing/js_util_emoji_1.jpg">
</p>

<p>
选取时
</p>

<p>
<a title="dev:js:js_util_emoji_2.jpg" class="media" href="weiqing/js_util_emoji_2.jpg"><img width="250" alt="" class="media" src="weiqing/js_util_emoji_2.jpg?w=250&amp;tok=58e94e"></a>
</p>

<p>
选取后
</p>

<p>
<img alt="" class="media" src="weiqing/js_util_emoji_3.jpg">
</p>

</div>

<h3 id="自定义模态对话框" class="sectionedit17">自定义模态对话框</h3>
<div class="level3">
<pre class="code javascript">util.<span class="me1">dialog</span><span class="br0">(</span> title<span class="sy0">,</span> content<span class="sy0">,</span> foot<span class="sy0">,</span> options<span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit18"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign">title    </th><td class="col1">string </td><td class="col2">模态对话框顶部显示的标题; </td>
	</tr>
	<tr class="row1">
		<th rowspan="3" class="col0 leftalign">content  </th><td class="col1">string </td><td class="col2">模态对话框主体显示的 <abbr title="HyperText Markup Language">HTML</abbr> 内容 </td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign">array  </td><td class="col1">[ url ], GET 方式提交到指定URL </td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign">array  </td><td class="col1">[ url, option ]  使用 POST 方式提交到 <abbr title="Uniform Resource Locator">URL</abbr> 的参数。 </td>
	</tr>
	<tr class="row4">
		<th class="col0 leftalign">foot     </th><td class="col1">string </td><td class="col2"> 模态对话框 footer 位置显示的内容。 </td>
	</tr>
	<tr class="row5">
		<th class="col0 leftalign">options  </th><td class="col1">object </td><td class="col2">对话框参数<br>
<pre class="code javascript"><span class="br0">{</span>
    <span class="st0">'containerName'</span><span class="sy0">:</span> 模态对话框Id <span class="co1">// 对话框附加参数containerName 默认为 'modal-message',当有多个不同的自定义模态对话框,要设置此项</span>
<span class="br0">}</span></pre>
</td>
	</tr>
</tbody></table></div>

</div>

<h3 id="模态消息提示框" class="sectionedit19">模态消息提示框</h3>
<div class="level3">
<pre class="code javascript">util.<span class="me1">message</span><span class="br0">(</span> msg<span class="sy0">,</span> redirect<span class="sy0">,</span> type<span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit20"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign">msg      </th><td class="col1">string </td><td class="col2">要显示的消息内容 </td>
	</tr>
	<tr class="row1">
		<th class="col0">redirect </th><td class="col1">string </td><td class="col2">可选,设置提示信息后要跳转的地址 </td>
	</tr>
	<tr class="row2">
		<th class="col0 leftalign">type     </th><td class="col1">string </td><td class="col2">提示类型<br>
<pre class="code php">info：提示 <span class="br0">(</span> 默认 <span class="br0">)</span>
success：成功
error：失败或错误<span class="sy0">,</span>
warning：警告</pre>
</td>
	</tr>
</tbody></table></div>
<blockquote><div class="no">
<blockquote><div class="no">
 示例</div></blockquote>
</div></blockquote>
<pre class="code html4strict"><span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
require(['jquery','util'], function($, util){
	$(function(){
		$('#info').click(function(){
			util.message('消息提示: info');
		});
		$('#success').click(function(){
			util.message('消息提示: success','', 'success');
		});
		$('#error').click(function(){
			util.message('消息提示: error','','error');
		});
		$('#warning').click(function(){
			// 添加了跳转地址.
			util.message('消息提示: warning','./index.php','warning');
		});
	});
});
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
&nbsp;
<span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a> <span class="kw3">method</span><span class="sy0">=</span><span class="st0">"post"</span> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">""</span> <span class="kw3">enctype</span><span class="sy0">=</span><span class="st0">"multipart/form-data"</span> &gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">"javascript:"</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"info"</span>&gt;</span>info<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">"javascript:"</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"success"</span>&gt;</span>success<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">"javascript:"</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"error"</span>&gt;</span>error<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">"javascript:"</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"warning"</span>&gt;</span>warning<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a>&gt;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 图示</div></blockquote>
</div></blockquote>
<div class="table sectionedit21"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign">info    </th><td class="col1"><a title="dev:js:js_util_message_info.jpg" class="media" href="weiqing/js_util_message_info.jpg"><img width="300" alt="info" title="info" class="media" src="weiqing/js_util_message_info.jpg?w=300&amp;tok=640c01"></a> </td>
	</tr>
	<tr class="row1">
		<th class="col0">success </th><td class="col1 leftalign"><a title="dev:js:js_util_message_success.jpg" class="media" href="weiqing/js_util_message_success.jpg"><img width="300" alt="success" title="success" class="media" src="weiqing/js_util_message_success.jpg?w=300&amp;tok=61f475"></a>  </td>
	</tr>
	<tr class="row2">
		<th class="col0 leftalign">error   </th><td class="col1 leftalign"><a title="dev:js:js_util_message_error.jpg" class="media" href="weiqing/js_util_message_error.jpg"><img width="300" alt="error" title="error" class="media" src="weiqing/js_util_message_error.jpg?w=300&amp;tok=629ab1"></a>  </td>
	</tr>
	<tr class="row3">
		<th class="col0">warning </th><td class="col1 leftalign"><a title="dev:js:js_util_message_warning.jpg" class="media" href="weiqing/js_util_message_warning.jpg"><img width="300" alt="warning" title="warning" class="media" src="weiqing/js_util_message_warning.jpg?w=300&amp;tok=515848"></a>  </td>
	</tr>
</tbody></table></div>

</div>

<h3 id="经纬度地理位置选择器" class="sectionedit22">经纬度地理位置选择器</h3>
<div class="level3">
<pre class="code javascript">util.<span class="me1">map</span><span class="br0">(</span> val<span class="sy0">,</span> callback <span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit23"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign">val      </th><td class="col1 leftalign">object   </td><td class="col2">原始地理位置信息 { lng: 经度, lat：纬度 } </td>
	</tr>
	<tr class="row1">
		<th class="col0">callback </th><td class="col1">function </td><td class="col2">选择新的地理位置, 并执行自定义操作。<br>
<pre class="code php"><span class="kw2">var</span> callback <span class="sy0">=</span> <span class="kw2">function</span> <span class="br0">(</span>newLocation<span class="br0">)</span><span class="br0">{</span>
    <span class="kw2">var</span> lng   <span class="sy0">=</span> newLocation<span class="sy0">.</span>lng<span class="sy0">;</span>   <span class="co1">// 新地理位置的经度</span>
    <span class="kw2">var</span> lat   <span class="sy0">=</span> newLocation<span class="sy0">.</span>lat<span class="sy0">;</span>   <span class="co1">// 新地理位置的纬度</span>
    <span class="kw2">var</span> label <span class="sy0">=</span> newLocation<span class="sy0">.</span>label<span class="sy0">;</span> <span class="co1">// 新地理位置</span>
<span class="br0">}</span></pre>
</td>
	</tr>
</tbody></table></div>
<blockquote><div class="no">
<blockquote><div class="no">
 示例</div></blockquote>
</div></blockquote>
<pre class="code php"><span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
<span class="kw1">require</span><span class="br0">(</span><span class="br0">[</span><span class="st_h">'jquery'</span><span class="sy0">,</span><span class="st_h">'util'</span><span class="br0">]</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">(</span>$<span class="sy0">,</span> util<span class="br0">)</span><span class="br0">{</span>
	$<span class="br0">(</span><span class="kw2">function</span><span class="br0">(</span><span class="br0">)</span><span class="br0">{</span>
		$<span class="br0">(</span><span class="st_h">'#map'</span><span class="br0">)</span><span class="sy0">.</span>click<span class="br0">(</span><span class="kw2">function</span><span class="br0">(</span><span class="br0">)</span><span class="br0">{</span>
			util<span class="sy0">.</span>map<span class="br0">(</span><span class="br0">{</span>lng<span class="sy0">:</span> <span class="nu19">116.34176</span><span class="sy0">,</span>lat<span class="sy0">:</span> <span class="nu19">39.863358</span><span class="br0">}</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">(</span>location<span class="br0">)</span><span class="br0">{</span>
				util<span class="sy0">.</span>message<span class="br0">(</span><span class="st0">"lng: "</span><span class="sy0">+</span>location<span class="sy0">.</span>lng <span class="sy0">+</span><span class="st0">";lat: "</span><span class="sy0">+</span>location<span class="sy0">.</span>lat<span class="sy0">+</span><span class="st0">";label: "</span><span class="sy0">+</span>location<span class="sy0">.</span>label<span class="br0">)</span><span class="sy0">;</span>
			<span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span>
		<span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span>
	<span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span>
<span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw2">&lt;/script&gt;</span>
&nbsp;
<span class="sy0">&lt;</span>a href<span class="sy0">=</span><span class="st0">"javascript:"</span> id<span class="sy0">=</span><span class="st0">"map"</span><span class="sy0">&gt;</span>选取地址<span class="sy0">&lt;/</span>a<span class="sy0">&gt;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 图示</div></blockquote>
</div></blockquote>

<p>
<a title="dev:js:js_util_map.jpg" class="media" href="weiqing/js_util_map.jpg"><img width="400" alt="" class="media" src="weiqing/js_util_map.jpg?w=400&amp;tok=8b9f4d"></a>
</p>

</div>

<h3 id="系统图标选择器" class="sectionedit24">系统图标选择器</h3>
<div class="level3">
<pre class="code javascript">util.<span class="me1">iconBrowser</span><span class="br0">(</span> <span class="kw1">function</span><span class="br0">(</span> selectedIcon <span class="br0">)</span><span class="br0">{</span>
<span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit25"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0">selectedIcon </th><td class="col1">string </td><td class="col2">选中的系统图标代码 </td>
	</tr>
</tbody></table></div>
<blockquote><div class="no">
<blockquote><div class="no">
 示例</div></blockquote>
</div></blockquote>
<pre class="code html4strict"><span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
require(['jquery','util'], function($, util){
	$(function(){
		$('#icon').click(function(){
			util.iconBrowser(function(ico){
				$('#icon_ipt').val(ico);
			});
		});
	});
});
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
&nbsp;
&nbsp;
<span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a> <span class="kw3">method</span><span class="sy0">=</span><span class="st0">"post"</span> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">""</span> <span class="kw3">enctype</span><span class="sy0">=</span><span class="st0">"multipart/form-data"</span> &gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/label.html"><span class="kw2">label</span></a>&gt;</span>icon: <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/label.html"><span class="kw2">label</span></a>&gt;&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">"text"</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"icon_ipt"</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">""</span>&gt;</span> 
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">"javascript:"</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"icon"</span>&gt;</span>选取icon<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a>&gt;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 图示</div></blockquote>
</div></blockquote>

<p>
<a title="dev:js:js_util_iconbrowser.jpg" class="media" href="weiqing/js_util_iconbrowser.jpg"><img width="300" alt="" class="media" src="weiqing/js_util_iconbrowser.jpg?w=300&amp;tok=e843a0"></a>
</p>

</div>

<h3 id="系统链接选择器" class="sectionedit26">系统链接选择器</h3>
<div class="level3">
<pre class="code javascript">util.<span class="me1">linkBrowser</span><span class="br0">(</span> callback <span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit27"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0">callback </th><td class="col1">function </td><td class="col2">回调函数<br>
<pre class="code javascript"><span class="kw1">var</span> callback <span class="sy0">=</span> <span class="kw1">function</span><span class="br0">(</span>url<span class="br0">)</span><span class="br0">{</span>
    <span class="co1">// url 链接浏览器中选中的系统链接</span>
<span class="br0">}</span></pre>
</td>
	</tr>
</tbody></table></div>
<blockquote><div class="no">
<blockquote><div class="no">
 示例</div></blockquote>
</div></blockquote>
<pre class="code html4strict"><span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
require(['jquery','util'], function($, util){
	$(function(){
		$('#btn1').click(function(){
			util.linkBrowser(function(url){
				$('#link').html(url);
				$('#btn1').hide();
			});
		});
	});
});
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
&nbsp;
&nbsp;
<span class="sc2">&lt;<a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a> <span class="kw3">method</span><span class="sy0">=</span><span class="st0">"post"</span> <span class="kw3">action</span><span class="sy0">=</span><span class="st0">""</span> <span class="kw3">enctype</span><span class="sy0">=</span><span class="st0">"multipart/form-data"</span> &gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/label.html"><span class="kw2">label</span></a>&gt;</span>URL: <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/label.html"><span class="kw2">label</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a> <span class="kw3">href</span><span class="sy0">=</span><span class="st0">"javascript:"</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"btn1"</span>&gt;</span>选取链接<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/a.html"><span class="kw2">a</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/span.html"><span class="kw2">span</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"link"</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/span.html"><span class="kw2">span</span></a>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/form.html"><span class="kw2">form</span></a>&gt;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 图示</div></blockquote>
</div></blockquote>

<p>
选取前
</p>

<p>
<img alt="js_util_linkbrowser_1.jpg" title="js_util_linkbrowser_1.jpg" class="media" src="weiqing/js_util_linkbrowser_1.jpg">
</p>

<p>
选取时
</p>

<p>
<a title="dev:js:js_util_linkbrowser_2.jpg" class="media" href="weiqing/js_util_linkbrowser_2.jpg"><img width="350" alt="js_util_linkbrowser_2.jpg" title="js_util_linkbrowser_2.jpg" class="media" src="weiqing/js_util_linkbrowser_2.jpg?w=350&amp;tok=2c0f4d"></a>
</p>

<p>
选取后
</p>

<p>
<img alt="js_util_linkbrowser_3.jpg" title="js_util_linkbrowser_3.jpg" class="media" src="weiqing/js_util_linkbrowser_3.jpg">
</p>

</div>

<h3 id="web端图片上传" class="sectionedit28">Web端图片上传</h3>
<div class="level3">
<ol>
<li class="level1"><div class="li"> 填写外网图片绝对路径</div>
</li>
<li class="level1"><div class="li"> 上传图片附件 (tabs: browser)</div>
</li>
<li class="level1"><div class="li"> 浏览并选择已上传图片附件 (tabs: upload)</div>
</li>
<li class="level1"><div class="li"> 上传资源文件到微信服务器 (tabs: remote)</div>
</li>
<li class="level1"><div class="li"> 指定上传目录, 最多支持二级. options = {'dest_dir': 'dir1/dir2' 或 'dest_dir': 'dir1'}</div>
</li>
<li class="level1"><div class="li"> <strong>app 端 js 仅支持默认路径上传.</strong></div>
</li>
</ol>
<pre class="code javascript">util.<span class="me1">image</span><span class="br0">(</span> val<span class="sy0">,</span> callback<span class="sy0">,</span> base64options<span class="sy0">,</span> options<span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit29"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign">val       </th><td class="col1">string </td><td class="col2">附件地址的表单值 </td>
	</tr>
	<tr class="row1">
		<th class="col0 leftalign">callback  </th><td class="col1">function </td><td class="col2">回调函数, 参数为返回的路径参数<br>
<pre class="code php"><a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span>
  <span class="st_h">'url'</span><span class="sy0">=&gt;</span>?<span class="sy0">,</span> <span class="co1">//--------- 附件绝对路径</span>
  <span class="st_h">'filename'</span><span class="sy0">=&gt;</span>?<span class="sy0">,</span> <span class="co1">//---- 附件相对路径</span>
  <span class="st_h">'media_id'</span> <span class="sy0">=&gt;</span> ? <span class="co1">//--- 附件的微信标识</span>
<span class="br0">)</span></pre>
</td>
	</tr>
	<tr class="row2">
		<th class="col0 leftalign">base64options  </th><td class="col1">string </td><td class="col2">php数组先序列化后经过base64编码的字符串,可缺省。参数为返回附件的附件地址和绝对地址 </td>
	</tr>
	<tr class="row3">
		<th class="col0">options </th><td class="col1">array </td><td class="col2">参数附加信息 <br>
参数对象结构为：<br>
<pre class="code javascript"><span class="br0">{</span>
  <span class="st0">'width'</span>  <span class="sy0">:</span> <span class="nu0">600</span><span class="sy0">,</span> <span class="co1">//---- 上传后图像宽度</span>
  <span class="st0">'height'</span> <span class="sy0">:</span> <span class="nu0">800</span><span class="sy0">,</span> <span class="co1">//---- 上传后图像高度</span>
  <span class="st0">'thumb'</span>  <span class="sy0">:</span> <span class="kw2">true</span> <span class="sy0">|</span> <span class="kw2">false</span><span class="sy0">,</span> <span class="co1">// true 使用缩略，宽高起作用；false 不使用缩略，宽高不起作用。</span>
  <span class="st0">'global'</span> <span class="sy0">:</span> <span class="kw2">false</span><span class="sy0">,</span> <span class="co1">//-- global = true,则显示附件下 global 文件夹, 否则显示当前公众号下</span>
  <span class="st0">'tabs'</span> <span class="sy0">:</span> <span class="br0">{</span>   <span class="co1">// 设置上传图片含有的子功能和显示时激活的选项卡，默认含有 browser, upload。</span>
               <span class="co1">// tabs 含有哪个属性就显示哪个选项卡</span>
               <span class="co1">// 要么不要设置属性，要么至少设置一个属性，属性值最多一个为active，其余均为空字符串 ""</span>
               <span class="st0">'browser'</span><span class="sy0">:</span> <span class="st0">'active'</span><span class="sy0">,</span> <span class="co1">//-- 浏览服务器上多媒体， active： 表示此选项卡被激活。</span>
               <span class="st0">'upload'</span> <span class="sy0">:</span> <span class="st0">''</span><span class="sy0">,</span><span class="co1">//--------- 上传本地多媒体</span>
               <span class="st0">'remote'</span> <span class="sy0">:</span> <span class="st0">''</span> <span class="co1">//--------- 上传微信多媒体（可选）</span>
            <span class="br0">}</span>
  <span class="st0">'class_extra'</span> <span class="sy0">:</span> <span class="st0">''</span> <span class="co1">// 缩略图所在 div 的附件样式.</span>
&nbsp;
  <span class="co1">// 自定义上传路径, 仅限示例中的两种情况.</span>
  <span class="co1">// 例: image/181/we7_store/image/xxxxxx.jpg</span>
  <span class="st0">'dest_dir'</span><span class="sy0">:</span> <span class="st0">'we7_store/image'</span> 
&nbsp;
  <span class="co1">// 例: image/181/we7_store/xxxxxx.jpg</span>
  <span class="co1">// 'dest_dir': 'we7_store' </span>
<span class="br0">}</span></pre>
</td>
	</tr>
</tbody></table></div>

<p>
<strong>注意: 开发者使用此方法时需要自己处理图片上传的数据.</strong>
</p>
<blockquote><div class="no">
<blockquote><div class="no">
 示例 1 (默认)</div></blockquote>
</div></blockquote>
<pre class="code html4strict"><span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">"text/javascript"</span>&gt;</span>
require(['jquery', 'util'], function($, util){
	$(function(){
		// 对象绑定点击事件
		$('#singleimage').click(function(){
			util.image('',function(data){
				$('#listimage').append('<span class="sc2">&lt;<a href="http://december.com/html/4/element/img.html"><span class="kw2">img</span></a> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">"'+data['url']+'"</span> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">"max-width: 80px; max-height: 80px;"</span>&gt;</span>');
			});
		});
	});
});
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
&nbsp;
<span class="sc-1">&lt;!-- 多图上传按钮, 点击开始上传 --&gt;</span>
<span class="sc2">&lt;<a href="http://december.com/html/4/element/span.html"><span class="kw2">span</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"singleimage"</span> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"btn btn-primary"</span>&gt;&lt;<a href="http://december.com/html/4/element/i.html"><span class="kw2">i</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"fa fa-plus"</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/i.html"><span class="kw2">i</span></a>&gt;</span> 上传图片<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/span.html"><span class="kw2">span</span></a>&gt;</span>
&nbsp;
<span class="sc-1">&lt;!-- 此处呈现上传的图片 --&gt;</span>
<span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"listimage"</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 单图上传图示(上传时)</div></blockquote>
</div></blockquote>

<p>
<a title="dev:js:upload_single_picture.jpg" class="media" href="weiqing/upload_single_picture.jpg"><img width="350" alt="" class="media" src="weiqing/upload_single_picture.jpg?w=350&amp;tok=ed69b6"></a>
</p>
<blockquote><div class="no">
<blockquote><div class="no">
 单图上传图示(上传后)</div></blockquote>
</div></blockquote>

<p>
<img alt="" class="media" src="weiqing/upload_single_picture_result.jpg">
</p>
<blockquote><div class="no">
<blockquote><div class="no">
 示例 2 (微信上传)</div></blockquote>
</div></blockquote>
<pre class="code html4strict"><span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">"text/javascript"</span>&gt;</span>
require(['jquery', 'util'], function($, util){
	$(function(){
		$('#btn').click(function(){
			util.image('hehe', '', '', {tabs: {'remote':'active'}});
		});
	});
});
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
&nbsp;
<span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"btn"</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">"button"</span> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"btn btn-default"</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">"上传"</span>&gt;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 图示</div></blockquote>
</div></blockquote>

<p>
<a title="dev:js:js_util_image_remote.jpg" class="media" href="weiqing/js_util_image_remote.jpg"><img width="350" alt="" class="media" src="weiqing/js_util_image_remote.jpg?w=350&amp;tok=16bcd7"></a>
</p>

</div>

<h3 id="app端图片上传" class="sectionedit30">App端图片上传</h3>
<div class="level3">
<pre class="code javascript">util.<span class="me1">image</span><span class="br0">(</span> obj<span class="sy0">,</span> callback<span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit31"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign">obj       </th><td class="col1">string </td><td class="col2">目标 DOM 对象 </td>
	</tr>
	<tr class="row1">
		<th class="col0 leftalign">callback  </th><td class="col1">function </td><td class="col2">回调函数, 参数为返回的路径参数</td>
	</tr>
</tbody></table></div>

<p>
<strong>注意: 开发者使用此方法时需要自己处理图片上传的数据.</strong>
</p>
<blockquote><div class="no">
<blockquote><div class="no">
 示例</div></blockquote>
</div></blockquote>
<pre class="code html4strict">{template 'common/header'}
&nbsp;
<span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"input-group"</span>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/input.html"><span class="kw2">input</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">"text"</span> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">"a"</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">"$value"</span> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"form-control"</span> autocomplete<span class="sy0">=</span><span class="st0">"off"</span> <span class="kw3">readonly</span><span class="sy0">=</span><span class="st0">"readonly"</span>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/span.html"><span class="kw2">span</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"input-group-btn"</span>&gt;</span>
		<span class="sc2">&lt;<a href="http://december.com/html/4/element/button.html"><span class="kw2">button</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"btn btn-default"</span> <span class="kw3">onclick</span><span class="sy0">=</span><span class="st0">"appupload(this)"</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">"button"</span>&gt;</span>上传图片<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/button.html"><span class="kw2">button</span></a>&gt;</span>
	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/span.html"><span class="kw2">span</span></a>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span>
<span class="sc2">&lt;<a href="http://december.com/html/4/element/span.html"><span class="kw2">span</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"help-block"</span>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/img.html"><span class="kw2">img</span></a> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">"max-height:100px;"</span> <span class="kw3">src</span><span class="sy0">=</span><span class="st0">"$thumb"</span> &gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/span.html"><span class="kw2">span</span></a>&gt;</span>
&nbsp;
<span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
window.appupload = window.appupload || function(obj){
	require(['jquery', 'util'], function($, u){
		u.image(obj, function(src){
			$(obj).parent().prev().val(src);
			$(obj).parent().parent().next().find('img').attr('src',u.tomedia(src));
		});
	});
}
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
&nbsp;
{template 'common/footer'}</pre>
<blockquote><div class="no">
<blockquote><div class="no">
 图示</div></blockquote>
</div></blockquote>

<p>
<img alt="" class="media" src="weiqing/tpl_appupload_image.jpg">
</p>

</div>

<h3 id="多图上传" class="sectionedit32">多图上传</h3>
<div class="level3">

<p>
多图上传请使用 
</p>
<pre class="code javascript">module.<span class="me1">uploadMultiPictures</span><span class="br0">(</span>options<span class="sy0">,</span> callback <span class="br0">)</span>
&nbsp;
or
&nbsp;
module.<span class="me1">uploadMultiPictures</span><span class="br0">(</span>callback <span class="br0">)</span></pre>
<div class="table sectionedit33"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign">options  </th><td class="col1 leftalign">object   </td><td class="col2">可缺省<br>
<pre class="code javascript">options <span class="sy0">=</span> <span class="br0">{</span> 
    <span class="co1">// 自定义上传路径</span>
    <span class="co1">// 例: image/181/we7_store/image/xxxxxx.jpg</span>
    <span class="st0">'dest_dir'</span><span class="sy0">:</span> <span class="st0">'we7_store/image'</span> 
&nbsp;
    <span class="co1">// 例: image/181/we7_store/xxxxxx.jpg</span>
    <span class="co1">// 'dest_dir': 'we7_store' </span>
<span class="br0">}</span></pre>
</td>
	</tr>
	<tr class="row1">
		<th class="col0">callback </th><td class="col1">function </td><td class="col2"><pre class="code javascript"><span class="kw1">var</span> callback <span class="sy0">=</span> <span class="kw1">function</span><span class="br0">(</span> list <span class="br0">)</span><span class="br0">{</span> <span class="co1">// list 为上传的所有图像的集合</span>
&nbsp;
    <span class="co1">// list 中的元素结构为 { url: "绝对路径", filename : "附件相对路径" }</span>
&nbsp;
<span class="br0">}</span> </pre>
</td>
	</tr>
</tbody></table></div>

<p>
注意: 开发者使用此方法时需要自己处理图片上传的数据.
</p>
<blockquote><div class="no">
<blockquote><div class="no">
 示例</div></blockquote>
</div></blockquote>
<pre class="code html4strict"><span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">"text/javascript"</span>&gt;</span>
require(['jquery', 'util'], function($, util){
	$(function(){
		// 对象绑定点击事件
		$('#multiimage').click(function(){
			util.uploadMultiPictures( {'dest_dir': 'we7_store/image'},function(list){
				// your code here
				for(var i=0; i<span class="sc2">&lt;list.length; i++<span class="br0">)</span><span class="br0">{</span></span>
<span class="sc2">					$<span class="br0">(</span><span class="st0">'#listimage'</span><span class="br0">)</span>.append<span class="br0">(</span><span class="st0">'&lt;img src="'</span>+list<span class="br0">[</span>i<span class="br0">]</span><span class="br0">[</span><span class="st0">'url'</span><span class="br0">]</span>+<span class="st0">'" style="max-width: 80px; max-height: 80px;"&gt;</span></span>');
				}
			});
		});
	});
});
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
&nbsp;
<span class="sc-1">&lt;!-- 多图上传按钮, 点击开始上传 --&gt;</span>
<span class="sc2">&lt;<a href="http://december.com/html/4/element/span.html"><span class="kw2">span</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"multiimage"</span> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"btn btn-primary"</span>&gt;&lt;<a href="http://december.com/html/4/element/i.html"><span class="kw2">i</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"fa fa-plus"</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/i.html"><span class="kw2">i</span></a>&gt;</span> 上传图片<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/span.html"><span class="kw2">span</span></a>&gt;</span>
&nbsp;
<span class="sc-1">&lt;!-- 此处呈现上传的图片 --&gt;</span>
<span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"listimage"</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 图示(上传时)</div></blockquote>
</div></blockquote>

<p>
<img alt="" class="media" src="weiqing/upload_multi_pictures.jpg">
</p>
<blockquote><div class="no">
<blockquote><div class="no">
 图示(上传后)</div></blockquote>
</div></blockquote>

<p>
<img alt="" class="media" src="weiqing/upload_multi_pictures_result.jpg">
</p>

</div>

<h3 id="音频文件选择或上传" class="sectionedit34">音频文件选择或上传</h3>
<div class="level3">
<pre class="code javascript">util.<span class="me1">audio</span><span class="br0">(</span> val<span class="sy0">,</span> callback<span class="sy0">,</span> base64option<span class="sy0">,</span> options<span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit35"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign">val       </th><td class="col1 leftalign">string   </td><td class="col2">附件地址的表单值 </td>
	</tr>
	<tr class="row1">
		<th class="col0 leftalign">callback  </th><td class="col1">function </td><td class="col2">回调函数, 参数为返回的路径参数<br>
<pre class="code php"><a href="http://www.php.net/array"><span class="kw3">array</span></a><span class="br0">(</span>
  <span class="st_h">'url'</span>      <span class="sy0">=&gt;</span> ?<span class="sy0">,</span> <span class="co1">// 附件绝对路径</span>
  <span class="st_h">'filename'</span> <span class="sy0">=&gt;</span> ?<span class="sy0">,</span> <span class="co1">// 附件相对路径</span>
  <span class="st_h">'media_id'</span> <span class="sy0">=&gt;</span> ?  <span class="co1">// 附件的微信标识</span>
<span class="br0">)</span></pre>
</td>
	</tr>
	<tr class="row2">
		<th class="col0 leftalign">base64options   </th><td class="col1">string </td><td class="col2">php数组先序列化后经过base64编码的字符串, 用于上传文件时附带参数,可缺省。 </td>
	</tr>
	<tr class="row3">
		<th class="col0">options </th><td class="col1">object </td><td class="col2">参数附加信息 <br>
参数对象结构为：<br>
<pre class="code javascript"><span class="br0">{</span>
  <span class="st0">'tabs'</span> <span class="sy0">:</span> <span class="br0">{</span>   <span class="co1">// 设置上传多媒体含有的功能选项卡，默认含有 browser, upload。</span>
               <span class="co1">// tabs 含有哪个属性就显示哪个选项卡</span>
               <span class="co1">// 要么不要设置属性，要么至少设置一个属性，属性值最多一个为active，其余均为空字符串 ""</span>
               <span class="st0">'browser'</span><span class="sy0">:</span> <span class="st0">'active'</span><span class="sy0">,</span> <span class="co1">//-- 浏览服务器上多媒体， active： 表示此选项卡被激活。</span>
               <span class="st0">'upload'</span> <span class="sy0">:</span> <span class="st0">''</span><span class="sy0">,</span><span class="co1">//--------- 上传本地多媒体</span>
               <span class="st0">'remote'</span> <span class="sy0">:</span> <span class="st0">''</span> <span class="co1">//--------- 上传微信多媒体（可选）</span>
            <span class="br0">}</span>
<span class="br0">}</span></pre>
</td>
	</tr>
</tbody></table></div>

</div>

<h2 id="bizjs-业务工具模块" class="sectionedit36">2. biz.js  业务工具模块</h2>
<div class="level2">

</div>

<h3 id="用户选择" class="sectionedit37">用户选择</h3>
<div class="level3">
<pre class="code javascript">require<span class="br0">(</span><span class="br0">[</span><span class="st0">'jquery'</span><span class="sy0">,</span> <span class="st0">'biz'</span><span class="br0">]</span><span class="sy0">,</span> <span class="kw1">function</span><span class="br0">(</span>$<span class="sy0">,</span> biz<span class="br0">)</span><span class="br0">{</span>
	biz.<span class="me1">user</span>.<span class="me1">browser</span><span class="br0">(</span>uids<span class="sy0">,</span> callback<span class="sy0">,</span> options<span class="br0">)</span><span class="sy0">;</span>
<span class="br0">}</span><span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit38"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign">uids     </th><td class="col1 leftalign">array    </td><td class="col2">已选中的用户编号, javascript数组 </td>
	</tr>
	<tr class="row1">
		<th class="col0">callback </th><td class="col1">function </td><td class="col2"><pre class="code javascript"><span class="kw1">var</span> callback <span class="sy0">=</span> <span class="kw1">function</span><span class="br0">(</span>$users<span class="br0">)</span><span class="br0">{</span> <span class="co1">// users：新选中的用户编号</span>
<span class="br0">}</span></pre>
</td>
	</tr>
	<tr class="row2">
		<th class="col0 leftalign">options  </th><td class="col1 leftalign">object   </td><td class="col2">附加参数，javascript 对象,<pre class="code javascript"><span class="br0">{</span>
    <span class="co1">// visible 显示出已经选中的用户, 并标记为选中状态(默认值)    </span>
    <span class="co1">// invisible 隐藏已经选中的用户</span>
    <span class="st0">'mode'</span><span class="sy0">:</span><span class="st0">'visible | invisible'</span>
<span class="br0">}</span></pre>

<p>
已经选中的用户展示方式.
</p>
</td>
	</tr>
</tbody></table></div>
<blockquote><div class="no">
<blockquote><div class="no">
 图示</div></blockquote>
</div></blockquote>

<p>
<a title="dev:js:js_biz_user_browser.jpg" class="media" href="weiqing/js_biz_user_browser.jpg"><img width="350" alt="" class="media" src="weiqing/js_biz_user_browser.jpg?w=350&amp;tok=a99be0"></a>
</p>

</div>

<h2 id="districtjs" class="sectionedit39">3. district.js</h2>
<div class="level2">

</div>

<h3 id="省市县-select-标签组成的对象" class="sectionedit40">省市县 select 标签组成的对象</h3>
<div class="level3">
<pre class="code javascript">district.<span class="me1">render</span><span class="br0">(</span>elms<span class="sy0">,</span> values<span class="sy0">,</span> options<span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit41"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign">elms    </th><td class="col1">object </td><td class="col2">要渲染的 省市县 select 集合<br>
<pre class="code javascript"><span class="br0">{</span>
    province <span class="sy0">:</span> 代表省的 select dom对象<span class="sy0">,</span>
    city     <span class="sy0">:</span> 代表市的 select dom对象<span class="sy0">,</span>
    district <span class="sy0">:</span> 代表县的 select dom 对象
<span class="br0">}</span></pre>
</td>
	</tr>
	<tr class="row1">
		<th class="col0 leftalign">values  </th><td class="col1">object </td><td class="col2 leftalign">省市县的值<br>
<pre class="code javascript"><span class="br0">{</span>
    province <span class="sy0">:</span> 省<span class="sy0">,</span>
    city     <span class="sy0">:</span> 市<span class="sy0">,</span>
    district <span class="sy0">:</span> 县
<span class="br0">}</span></pre>
</td>
	</tr>
	<tr class="row2">
		<th class="col0">options </th><td class="col1">object </td><td class="col2">配置选项<br>
<pre class="code javascript"><span class="br0">{</span>
    withTitle <span class="sy0">:</span> <span class="kw2">true</span> <span class="sy0">|</span> <span class="kw2">false</span>
<span class="br0">}</span></pre>

<p>
withTitle == true<br>
<img alt="js_district_withtitle.jpg" title="js_district_withtitle.jpg" class="media" src="weiqing/js_district_withtitle.jpg"> 
</p>
</td>
	</tr>
</tbody></table></div>
<blockquote><div class="no">
<blockquote><div class="no">
 示例</div></blockquote>
</div></blockquote>
<pre class="code html4strict"><span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">"text/javascript"</span>&gt;</span>
require(['jquery', 'district'], function($, d){
	$(function(){
		d.render(
			{province: $('#p')[0], city: $('#c')[0], district: $('#d')[0]},
			{province: '山西省', city: '太原市', district: '小店区'},
			{withTitle: true}
		);
	});
});
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span>
&nbsp;
<span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"row"</span>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"col-sm-2"</span>&gt;</span>
		<span class="sc2">&lt;<a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"p"</span> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"form-control "</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a>&gt;</span>
	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"col-sm-2"</span>&gt;</span>
		<span class="sc2">&lt;<a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"c"</span> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"form-control"</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a>&gt;</span>
	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"col-sm-2"</span>&gt;</span>
		<span class="sc2">&lt;<a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"d"</span> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"form-control"</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a>&gt;</span>
	<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 图示</div></blockquote>
</div></blockquote>

<p>
<img alt="" class="media" src="weiqing/js_district.jpg">
</p>

</div>

<h2 id="industryjs" class="sectionedit42">4. industry.js</h2>
<div class="level2">

</div>

<h3 id="行业二级联动" class="sectionedit43">行业二级联动</h3>
<div class="level3">
<pre class="code javascript">industry.<span class="me1">init</span><span class="br0">(</span>parentid<span class="sy0">,</span> childid<span class="br0">)</span><span class="sy0">;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 参数</div></blockquote>
</div></blockquote>
<div class="table sectionedit44"><table class="inline">
	<tbody><tr class="row0">
		<th class="col0 leftalign">parentid   </th><td class="col1">string </td><td class="col2">行业父分类 id </td>
	</tr>
	<tr class="row1">
		<th class="col0 leftalign">childid    </th><td class="col1">string </td><td class="col2">行业子分类 id </td>
	</tr>
	<tr class="row2">
		<th class="col0">行业初始值 </th><td class="col1 leftalign">       </td><td class="col2">直接在行业 select 上添加 value 属性值 </td>
	</tr>
</tbody></table></div>
<blockquote><div class="no">
<blockquote><div class="no">
 示例</div></blockquote>
</div></blockquote>
<pre class="code html4strict"><span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"col-sm-4"</span>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">"industry_1"</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"industry_1"</span> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"form-control"</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">"{$item['industry1']}"</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span>
<span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"col-sm-4"</span>&gt;</span>
	<span class="sc2">&lt;<a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a> <span class="kw3">name</span><span class="sy0">=</span><span class="st0">"industry_2"</span> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">"industry_2"</span> <span class="kw3">class</span><span class="sy0">=</span><span class="st0">"form-control"</span> <span class="kw3">value</span><span class="sy0">=</span><span class="st0">"{$item['industry2']}"</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/select.html"><span class="kw2">select</span></a>&gt;</span>
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span>
&nbsp;
<span class="sc2">&lt;<a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">"text/javascript"</span>&gt;</span>
	require(['industry'], function(industry){
		industry.init('industry_1','industry_2');
	});
<span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/script.html"><span class="kw2">script</span></a>&gt;</span></pre>
<blockquote><div class="no">
<blockquote><div class="no">
 图示</div></blockquote>
</div></blockquote>

<p>
<img alt="" class="media" src="weiqing/js_industry.jpg">
</p>

</div>

    <!-- end rendered wiki content -->
    <div class="clearer"></div>
  </div>
  <!-- end div id bodyContent -->

  
  <div class="catlinks noprint"><p>
    <span class="bchead">您的足迹:</span> <span class="bcsep">•</span> <bdi><a title="dev:model:cache" class="breadcrumbs" href="/manual/dev:model:cache">cache</a></bdi> <span class="bcsep">•</span> <bdi><a title="dev:model:setting" class="breadcrumbs" href="/manual/dev:model:setting">setting</a></bdi> <span class="bcsep">•</span> <bdi><a title="dev:model:account" class="breadcrumbs" href="/manual/dev:model:account">account</a></bdi> <span class="bcsep">•</span> <bdi><a title="dev:model:activity" class="breadcrumbs" href="/manual/dev:model:activity">activity</a></bdi> <span class="bcsep">•</span> <bdi><a title="dev:model:app" class="breadcrumbs" href="/manual/dev:model:app">app</a></bdi> <span class="bcsep">•</span> <bdi><a title="start" class="breadcrumbs" href="/manual/start">start</a></bdi> <span class="bcsep">•</span> <bdi><a title="dev:model:extension" class="breadcrumbs" href="/manual/dev:model:extension">extension</a></bdi> <span class="bcsep">•</span> <bdi><a title="dev:model:reply" class="breadcrumbs" href="/manual/dev:model:reply">reply</a></bdi> <span class="bcsep">•</span> <bdi><a title="dev:model:coupon" class="breadcrumbs" href="/manual/dev:model:coupon">coupon</a></bdi> <span class="bcsep">•</span> <span class="curid"><bdi><a title="dev:js:builtin" class="breadcrumbs" href="/manual/dev:js:builtin">builtin</a></bdi></span>
  </p></div>
<ul style="list-style: none; margin: 0; padding: 5px 0 0 0; text-align: right; font-size: 14px; color: #999;" id="footer-info">
    <li id="footer-info-lastmod">
      <bdi>dev/js/builtin.txt</bdi> · 最后更改: 2015-02-10 18:20 由 <bdi>gorden</bdi>    </li>
  </ul>
</div>
<!-- end div id=content -->
</div>
<!-- end page-container -->

<!-- start footer --><!-- end footer -->
<img src="wq_structure_routing/indexer.gif" alt="" height="1" width="2">
</body></html>